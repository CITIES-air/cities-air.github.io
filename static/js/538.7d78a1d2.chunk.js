"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[538],{8124:function(t,e,r){var n=r(1413),o=r(885),i=(r(2791),r(5953)),a=r(6015),s=r(4565),l=r(9530),c=r(3085),u=r(9388),h=r(4011),d=r(5445),f=r(3511),v=r(4809),m=r(184),p=function(t){var e,r,n=t.sensorData,o=t.isScreen;return o&&n.current.sensor_status===h.vI.active?null:(0,m.jsxs)(s.Z,{variant:o?"h6":"caption",sx:{mt:0,fontWeight:o&&"500 !important"},children:[(null===(e=n.current)||void 0===e?void 0:e.sensor_status)!==h.vI.active&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z,{sx:{"& *":{color:"".concat(f.Z[3].lightThemeColor," !important")},mr:.5}}),"Offline.\xa0"]}),"Last update:",null!==(r=n.current)&&void 0!==r&&r.timestamp?" ".concat((0,h.Zj)(n.current.timestamp)," ago"):"--"]})};e.Z=function(t){var e=t.currentData,r=t.temperatureUnit,u=void 0===r?d.fG.celsius:r,f=t.isScreen,g=void 0===f||f,y=t.orderOfItems;return(0,m.jsx)(i.ZP,{container:!0,justifyContent:"center",sx:{"& .MuiSvgIcon-root":{verticalAlign:"sub",fontSize:g?null:"1rem"},"& *":{fontWeight:"500"},"& .condensedFont":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important","& *":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important"}}},children:Object.entries(e).map((function(t,r){var f,x,w,Z,b,_,j,C,S,q,k,I,M,U=(0,o.Z)(t,2),T=U[0],P=U[1];return(0,m.jsxs)(i.ZP,(0,n.Z)((0,n.Z)({item:!0,order:y&&y[r]},(M=Object.keys(e).length,{xs:Math.max(12/M,6),sm:Math.max(12/M,4),lg:g?12/M:Math.min(5,Math.max(12/M,3))})),{},{sx:(null===(f=P.current)||void 0===f?void 0:f.sensor_status)!==h.vI.active&&{"& *":{color:"".concat(v.Z.universal.palette.inactiveSensor,"!important")}},children:[(0,m.jsxs)(a.Z,{sx:{"& *":{color:null===(x=P.current)||void 0===x?void 0:x.color}},children:[(0,m.jsx)(s.Z,{variant:g?"h4":"h5",fontWeight:"500",className:"condensedFont",children:(null===(w=P.sensor)||void 0===w?void 0:w.location_long)||(null===(Z=P.sensor)||void 0===Z?void 0:Z.location_short)||"No Location Name"}),(0,m.jsx)(s.Z,{variant:g?"h1":"h2",fontWeight:"500",lineHeight:g?.8:.9,children:(null===(b=P.current)||void 0===b?void 0:b.aqi)||"--"}),(0,m.jsx)(s.Z,{variant:g?"h4":"h5",fontWeight:"500",className:"condensedFont",children:(null===(_=P.current)||void 0===_?void 0:_.category)||"--"})]}),(0,m.jsxs)(a.Z,{sx:{"& *":{color:g?"#c8dcff":"text.secondary"},mt:g?2:1},className:"condensedFont",children:[(0,m.jsxs)(s.Z,{variant:g?"h6":"body1",children:[(0,m.jsx)(l.Z,{}),(0,d.Lo)({rawTemp:(null===(j=P.current)||void 0===j?void 0:j.temperature)||"--",currentUnit:d.fG.celsius,returnUnit:u}),"\xa0\xa0-\xa0",(0,m.jsx)(c.Z,{sx:{transform:"scaleX(0.9)"}}),null!==(C=P.current)&&void 0!==C&&C.rel_humidity?Math.round(null===(S=P.current)||void 0===S?void 0:S.rel_humidity):"--","%"]}),["outdoors","indoors_gym"].includes(null===(q=P.sensor)||void 0===q?void 0:q.location_type)&&(0,m.jsx)(s.Z,{variant:g?"body1":"body2",sx:{fontWeight:"300 !important"},children:(0,d.qu)({rawTemp:null===(k=P.current)||void 0===k?void 0:k.temperature,currentUnit:d.fG.celsius,rel_humidity:null===(I=P.current)||void 0===I?void 0:I.rel_humidity,returnUnit:u})}),p({sensorData:P,isScreen:g})]}),P.sensor_status!==h.vI.active&&(0,m.jsx)(s.Z,{variant:g?"h6":"body1",className:"condensedFont",children:(0,h.Tm)(P)})]}),T)}))})}},6538:function(t,e,r){r.r(e),r.d(e,{default:function(){return j}});var n=r(885),o=r(2791),i=r(2087),a=r(4346),s=r(4565),l=r(5953),c=r(4162),u=r(6015),h=r(5629),d=r(2069),f=r(4011),v=r(5445),m=r(1197),p=r(2377),g=r(3511),y=r(4809),x=r(184),w=function(t){var e,r,i,a,s=t.data,l=(0,o.useState)(!0),c=(0,n.Z)(l,2),h=(c[0],c[1],(0,o.useRef)()),d=(0,o.useRef)(),v=(0,o.useRef)(),w=(0,o.useRef)(),Z=(0,o.useRef)(),b=200,_=30,j=80,C=70,S=m.jvg().x((function(t){return i(t.timestamp)})).y((function(t){return a(t.aqi)})).curve(m.YY7.tension(0));return(0,o.useEffect)((function(){if(s&&h.current&&d.current&&v.current&&w.current&&Z.current){m.Ys(h.current),e=h.current.clientWidth,r=h.current.clientHeight-_,m.Ys(d.current).selectAll("*").remove(),m.Ys(v.current).selectAll("*").remove(),m.Ys(w.current).selectAll("*").remove(),m.Ys(Z.current).selectAll("*").remove(),m.Ys(d.current).attr("opacity",.5),m.Ys(v.current).attr("filter","brightness(0.8) contrast(1.2) saturate(1.2)"),Object.entries(s).forEach((function(t){var e,r=(0,n.Z)(t,2),o=(r[0],r[1]);if(null===(e=o.historical)||void 0===e||e.forEach((function(t){t.timestamp=new Date(t.timestamp),t.aqi=(0,p.Z)(t["pm2.5"]).aqi})),o.historical&&Array.isArray(o.historical)){var i=m.Fp7(o.historical,(function(t){return t.aqi}));i>b&&(b=i)}})),b=50*Math.ceil(b/50),g.Z.forEach((function(t){b>=t.aqiUS.low&&b<=t.aqiUS.high&&(b=t.aqiUS.high)}));var t=new Date,o=new Date;o.setHours(o.getHours()-6),i=m.Xf().domain([o,t]).rangeRound([C,e-j]),a=m.BYU().domain([0,b]).range([r+_,_]);for(var l=Math.floor((g.Z[1].aqiUS.high-g.Z[0].aqiUS.high)/b*r/2),c=Math.floor(l/5),u=0;u<g.Z.length;u++){var x=g.Z[u];if(b<=x.aqiUS.low)break;var q=50*Math.ceil((x.aqiUS.high-x.aqiUS.low)/50);m.Ys(d.current).append("rect").attr("x",0).attr("y",r-x.aqiUS.high/b*r+_).attr("width",e).attr("height",q/b*r).attr("fill",x.lightThemeColor),m.Ys(v.current).append("text").attr("x",c).attr("y",r-x.aqiUS.low/b*r-3.5*c+_).attr("fill",x.lightThemeColor).attr("font-size",l).text(50*Math.floor(x.aqiUS.low/50)),m.Ys(v.current).append("text").attr("class","category-text-graph-sm").attr("x",c+2).attr("y",r-x.aqiUS.low/b*r-c+_).attr("fill",x.lightThemeColor).attr("font-size",l/2).text(x.category)}m.Ys(w.current).append("rect").attr("x",0).attr("y",0).attr("width",e).attr("height",_).attr("fill","white");var k=m.i$Z("%H:%M");m.Ys(w.current).append("g").attr("transform","translate(0,".concat(_,")")).call(m.F5q(i).tickSize(-r).ticks(m.Z_i.every(120)).tickFormat((function(t){return k(t)}))).attr("font-size",l/2.25).attr("color",y.Z.universal.palette.inactiveSensor).select(".domain").remove(),m.Ys(w.current).selectAll("line").attr("stroke","white").attr("stroke-width",2).attr("opacity",.5),Object.entries(s).forEach((function(t){var e,r,o,s=(0,n.Z)(t,2),c=(s[0],s[1]);m.Ys(Z.current).append("path").datum(c.historical||[]).attr("x",C).attr("class","line").attr("d",S).attr("fill","transparent").attr("stroke","black").attr("stroke-width","5px").attr("opacity","outdoors"===(null===(e=c.sensor)||void 0===e?void 0:e.location_type)?1:.5);var u=(null===(r=c.historical)||void 0===r?void 0:r.length)>0?null===(o=c.historical)||void 0===o?void 0:o[0]:null;if(u){var h,d,v,x,w=g.Z[(0,p.Z)(u["pm2.5"]).aqi_category_index],b=m.Ys(Z.current).append("g").attr("transform","translate("+i(u.timestamp)+","+a(u.aqi)+")").attr("fill",(null===(h=c.current)||void 0===h?void 0:h.sensor_status)===f.vI.active?w.lightThemeColor:y.Z.universal.palette.inactiveSensor);(null===(d=c.current)||void 0===d?void 0:d.sensor_status)===f.vI.active&&b.append("circle").attr("cx",0).attr("cy",0).attr("filter","brightness(0.5)").attr("class","pulse-ring").attr("r",25),b.append("circle").attr("cx",0).attr("cy",0).attr("stroke","#666").attr("class",(null===(v=c.current)||void 0===v?void 0:v.sensor_status)===f.vI.active&&"pulse-dot").attr("r",10),b.append("text").attr("class","location-label").attr("x",15).attr("y",0).attr("fill","black").attr("alignment-baseline","middle").attr("text-anchor","left").attr("font-size",l/3).text((0,f.KN)(null===(x=c.sensor)||void 0===x?void 0:x.location_short));for(var _=document.getElementsByClassName("location-label"),j=1;j<_.length;j++){var q=_[j-1],k=_[j],I=(0,f.Pk)(q.getBoundingClientRect(),k.getBoundingClientRect());0!==I&&(console.log("haha"),q.setAttribute("y",10*I),k.setAttribute("y",10*-I))}}}))}}),[s]),(0,x.jsx)(u.Z,{sx:{"& .pulse-ring":{animation:"pulse-ring 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite","@keyframes pulse-ring":{"0%":{transform:"scale(0.2)"},"80%":{},"100%":{opacity:0}}},"& .pulse-dot":{animation:"pulse-dot 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite","@keyframes pulse-dot":{"0%":{transform:"scale(0.5)"},"50%":{transform:"scale(1)",filter:"brightness(1.2) contrast(1.2) saturate(1.2)"},"100%":{transform:"scale(0.5)"}}}},width:"100%",height:"100%",children:(0,x.jsxs)("svg",{id:"recent-historical-graph",width:"100%",height:"100%",ref:h,children:[(0,x.jsx)("g",{ref:d}),(0,x.jsx)("g",{ref:w}),(0,x.jsx)("g",{ref:v}),(0,x.jsx)("g",{ref:Z})]})})},Z=r(925),b=r(8124),_=r(8206),j=function(){var t=(0,o.useState)(),e=(0,n.Z)(t,2),r=e[0],m=e[1],p=(0,o.useState)(v.fG.celsius),j=(0,n.Z)(p,2),C=j[0],S=j[1],q=(0,o.useState)({}),k=(0,n.Z)(q,2),I=k[0],M=k[1];(0,o.useEffect)((function(){function t(){return 0!==[0,0,1,1,0,0,1,1,0,0,1,1][(new Date).getMonth()]}m(t());var e=setInterval((function(){m(t())}),864e5);return function(){clearInterval(e)}}),[]),(0,o.useEffect)((function(){new URL(document.location.href).searchParams.forEach((function(t,e){if("isFahrenheit"===e)S(v.fG.fahrenheit)}))}),[]),(0,o.useEffect)((function(){var t,e=window.location.href.match(/\/screen\/(.+)/);if(e&&e.length>1){t="https://api.citiesair.com/screen/".concat(e[1]),(0,_.bE)(t).then((function(t){M(t)})).catch((function(t){return console.log(t)}));var r=setInterval((function(){(0,_.bE)(t).then((function(t){M(t)})).catch((function(t){return console.log(t)}))}),3e5);return function(){clearInterval(r)}}}),[]);var U=function(){if(!Object.values(I).every((function(t){var e;return(null===(e=t.current)||void 0===e?void 0:e.sensor_status)===f.vI.active})))return null;for(var t,e,r=0;r<Object.values(I).length;r++){var n,o=Object.values(I)[r];if("outdoors"===(null===(n=o.sensor)||void 0===n?void 0:n.location_type)){if((t=o.current.aqi)<=g.Z[0].aqiUS.high)return null}else e=o.current.aqi}var l,c=t/e;if(c>=2)l="".concat(parseFloat(c).toFixed(1)," times");else{if(!(c>1.2))return null;l="".concat(Math.round((t-e)/e*100),"%")}return(0,x.jsx)(i.ZP,{children:(0,x.jsx)(a.Z,{primary:(0,x.jsxs)(x.Fragment,{children:["Indoors air is",(0,x.jsx)(s.Z,{component:"span",color:"".concat(g.Z[0].lightThemeColor," !important"),children:" ".concat(l," ")}),"better than outdoors"]})})})};return(0,x.jsxs)(l.ZP,{container:!0,alignContent:"stretch",alignItems:"stretch",height:"100vh",sx:{overflow:"hidden",background:"white","& *":{fontWeight:"500 !important"},"& .condensedFont":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important","& *":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important"}},"& .flashingRed":{"& .MuiTypography-root ":{color:"".concat(g.Z[3].lightThemeColor," !important"),opacity:.8},color:"".concat(g.Z[3].lightThemeColor," !important"),animation:"flashingRed 3s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite","@keyframes flashingRed":{"0%":{opacity:1},"50%":{opacity:.5},"100%":{opacity:1}}}},children:[(0,x.jsx)(l.ZP,{item:!0,xs:6,sx:{py:3,px:2,order:r?1:0,background:"#212529"},children:(0,x.jsxs)(c.Z,{direction:"column",justifyContent:"space-between",height:"100%",textAlign:"center",children:[(0,x.jsxs)(u.Z,{children:[(0,x.jsx)(s.Z,{variant:"h4",fontWeight:"500",color:"white",children:"PM2.5 AIR QUALITY INDEX"}),(0,x.jsx)(s.Z,{variant:"h5",className:"condensedFont",color:y.Z.universal.palette.inactiveSensor,children:"Particulate Matter < 2.5\u03bcm"})]}),(0,x.jsx)(l.ZP,{container:!0,justifyContent:"space-around",children:(0,x.jsx)(b.Z,{currentData:I,temperatureUnit:C})}),(0,x.jsxs)(h.Z,{className:"condensedFont",sx:{listStyleType:"disclosure-closed","& .MuiTypography-root":{fontSize:"1.5rem"},"& .MuiListItem-root":{display:"list-item",ml:3,p:0,pr:3},"& .MuiTypography-root, .MuiListItem-root":{color:y.Z.universal.palette.inactiveSensor}},children:[(0,x.jsx)(U,{}),Object.entries(I).map((function(t){var e,r,o,s=(0,n.Z)(t,2),l=s[0],c=s[1];return(null===(e=c.current)||void 0===e?void 0:e.healthSuggestion)&&(0,x.jsx)(i.ZP,{className:(null===(r=c.current)||void 0===r?void 0:r.aqi)>=g.Z[2].aqiUS.low&&"flashingRed",children:(0,x.jsx)(a.Z,{primary:null===(o=c.current)||void 0===o?void 0:o.healthSuggestion})},l)}))]})]})}),(0,x.jsxs)(l.ZP,{item:!0,xs:6,sx:{order:r?0:1},children:[(0,x.jsx)(u.Z,{sx:{position:"absolute",top:0,right:!r&&0,left:r&&0,width:"5vw",height:"5vw",m:1},children:(0,x.jsx)(d.Z,{})}),(0,x.jsxs)(l.ZP,{container:!0,alignContent:"space-between",justifyContent:"center",height:"100%",textAlign:"center",children:[(0,x.jsx)(l.ZP,{item:!0,xs:12,sx:{pt:3,px:2},children:(0,x.jsx)(s.Z,{variant:"h4",fontWeight:"500",sx:{color:"black"},children:"AN INITIATIVE BY CITIESair"})}),(0,x.jsx)(l.ZP,{item:!0,xs:2,children:(0,x.jsx)(u.Z,{height:"auto",width:"100%",children:(0,x.jsx)(Z.ZP,{size:256,style:{height:"auto",maxWidth:"100%",width:"100%"},value:"".concat((0,f.p7)(document.location.href),"?source=").concat((0,f.c9)(document.location.href)),viewBox:"0 0 256 256"})})}),(0,x.jsx)(l.ZP,{item:!0,xs:12,height:"70%",className:"condensedFont",sx:{"& *":{fontWeight:"600 !important"}},children:(0,x.jsx)(w,{data:I})})]})]})]})}},4011:function(t,e,r){r.d(e,{Zj:function(){return n},vI:function(){return o},Ay:function(){return a},Tm:function(){return s},KN:function(){return l},p7:function(){return c},c9:function(){return u},Pk:function(){return h}});var n=function(t){var e=new Date(t),r=new Date-e,n=Math.floor(r/1e3),o=Math.floor(n/60),i=Math.floor(o/60),a=Math.floor(i/24);return a>0?"".concat(a,"d"):i>0?"".concat(i,"h"):o>0?"".concat(o,"m"):"".concat(n,"s")},o={active:"active",temporaryOffline:"temporaryOffline",offline:"offline"},i=[{name:o.active,cutoffInHours:{low:0,high:2}},{name:o.temporaryOffline,cutoffInHours:{low:3,high:6}},{name:o.offline,cutoffInHours:{low:7,high:1/0}}],a=function(t){for(var e=0;e<i.length;e++){var r=i[e];if(r.cutoffInHours.low<=t&&t<=r.cutoffInHours.high)return r.name}},s=function(t){switch(t.sensor_status){case o.active:return null;case o.temporaryOffline:return"Last seen: ".concat(t.lastSeen,"h ago");case o.offline:return"Sensor offline";default:return null}},l=function(t){return t?t.charAt(0).toUpperCase()+t.slice(1):null},c=function(t){return new URL(t).hostname},u=function(t){var e="screen",r=t.split(e);return"".concat(e).concat(r.pop())},h=function(t,e){return t.bottom<e.top||t.top>e.bottom?0:(console.log("haha"),t.top<e.top?-1:1)}},5445:function(t,e,r){r.d(e,{fG:function(){return n},Lo:function(){return i},qu:function(){return s}});var n={celsius:"C",fahrenheit:"F"};function o(t,e){if(t)return e===n.celsius?(5*(t-32)/9).toFixed(1):e===n.fahrenheit?(9*t/5+32).toFixed(1):t}function i(t){var e=t.rawTemp,r=t.currentUnit,n=t.returnUnit;return"".concat(r===n?e:o(e,n),"\xb0").concat(n)}var a=[{name:"No Caution",threshold:80},{name:"Caution",threshold:90},{name:"Extreme Caution",threshold:105},{name:"Danger",threshold:130},{name:"Extreme Danger",threshold:1/0}];function s(t){var e=t.rawTemp,r=t.currentUnit,s=t.rel_humidity,l=t.returnUnit;if(e&&s){var c,u=r===n.fahrenheit?e:o(e,n.fahrenheit);if(s<0||s>100)return null;c=u<80?u:Math.round(10*(2.04901523*u-42.379+10.14333127*s-.22475541*u*s-.00683783*u*u-.05481717*s*s+.00122874*u*u*s+85282e-8*u*s*s-199e-8*u*u*s*s))/10;var h=a.find((function(t){return c<t.threshold})),d=i({rawTemp:c,currentUnit:n.fahrenheit,returnUnit:l});return d&&isNaN(d)&&null!==h&&void 0!==h&&h.name?"Heat Index: ".concat(d," - ").concat(null===h||void 0===h?void 0:h.name):null}}},2377:function(t,e,r){var n=r(3511);function o(t,e,r,n,o){return parseInt((t-e)/(r-n)*(o-n)+e)}e.Z=function(t){if(null==t)return{aqi:null,aqi_category_index:null};for(var e=0;e<n.Z.length;e++){var r=n.Z[e];if(t>=r.rawPM2_5.low&&t<=r.rawPM2_5.high)return{aqi:o(r.aqiUS.high,r.aqiUS.low,r.rawPM2_5.high,r.rawPM2_5.low,t),aqi_category_index:r.id}}}},3511:function(t,e,r){var n=r(4809),o=[{id:0,category:"Good",lightThemeColor:n.Z.light.palette.chart.optionsColors.aqi[0],darkThemeColor:n.Z.dark.palette.chart.optionsColors.aqi[0],aqiUS:{low:0,high:50},rawPM2_5:{low:0,high:12},description:"Air quality is satisfactory, and air pollution poses little or no risk",healthSuggestions:{outdoors:"Enjoy outdoor activities, the air is great!",indoors_generic:"Enjoy clean indoor air",indoors_dining_hall:"Enjoy clean dining hall air",indoors_gym:"Enjoy clean air for physical activities indoors",indoors_vulnerable:"Enjoy clean indoor air"}},{id:1,category:"Moderate",lightThemeColor:n.Z.light.palette.chart.optionsColors.aqi[1],darkThemeColor:n.Z.dark.palette.chart.optionsColors.aqi[1],aqiUS:{low:51,high:100},rawPM2_5:{low:12.1,high:35.4},description:"Air quality is acceptable. However, there may be a risk for some people, particularly those who are unusually sensitive to air pollution",healthSuggestions:{outdoors:"Children and individuals with respiratory issues might need to reduce prolonged outdoor exertion",indoors_generic:"Indoor air is acceptable, but not great",indoors_dining_hall:"Indoor air is acceptable, but not great<br>Avoid Grill area",indoors_gym:"Indoor air is acceptable, but not great",indoors_vulnerable:"Indoor air is acceptable, but not great"}},{id:2,category:"Unhealthy for Sensitive Groups",lightThemeColor:n.Z.light.palette.chart.optionsColors.aqi[2],darkThemeColor:n.Z.dark.palette.chart.optionsColors.aqi[2],aqiUS:{low:101,high:150},rawPM2_5:{low:35.5,high:55.4},description:"Members of sensitive groups may experience health effects. The general public is less likely to be affected",healthSuggestions:{outdoors:"Children and individuals with respiratory issues should limit outdoor exertion",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area",indoors_gym:"Individuals with respiratory issues should lower the intensity of indoor exercises",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:3,category:"Unhealthy",lightThemeColor:n.Z.light.palette.chart.optionsColors.aqi[3],darkThemeColor:n.Z.dark.palette.chart.optionsColors.aqi[3],aqiUS:{low:151,high:200},rawPM2_5:{low:55.5,high:150.4},description:"Some members of the general public may experience health effects; members of sensitive groups may experience more serious health effects",healthSuggestions:{outdoors:"Everyone should limit outdoor activities<br>Wear masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Everyone should lower the intensity of indoor exercises",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:4,category:"Very Unhealthy",lightThemeColor:n.Z.light.palette.chart.optionsColors.aqi[4],darkThemeColor:n.Z.dark.palette.chart.optionsColors.aqi[4],aqiUS:{low:201,high:300},rawPM2_5:{low:150.5,high:250.4},description:"Health alert: The risk of health effects is increased for everyone",healthSuggestions:{outdoors:"Avoid outdoor activities at all cost<br>Wear N95 masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Indoor air quality is not suitable for any physical activities",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:5,category:"Hazardous",lightThemeColor:n.Z.light.palette.chart.optionsColors.aqi[5],darkThemeColor:n.Z.dark.palette.chart.optionsColors.aqi[5],aqiUS:{low:300,high:500},rawPM2_5:{low:250.5,high:550.5},description:"Health warning of emergency conditions: everyone is more likely to be affected",healthSuggestions:{outdoors:"Avoid outdoor activities at all cost<br>Wear N95 masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Indoor air quality is not suitable for any physical activities",indoors_vulnerable:""}}];e.Z=o},8206:function(t,e,r){r.d(e,{bE:function(){return f},RO:function(){return v}});var n=r(1413),o=r(885),i=r(5861),a=r(4687),s=r.n(a),l=r(8914),c=r(4011),u=r(2377),h=r(3511),d=r(3540),f=function(){var t=(0,i.Z)(s().mark((function t(e){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,l.m)(e,"json",!0);case 3:if(r=t.sent){t.next=6;break}throw new Error("Returned data is empty");case 6:return t.prev=6,t.abrupt("return",v(r));case 10:t.prev=10,t.t0=t.catch(6),console.error("Error: data is not iterable",t.t0);case 13:t.next=18;break;case 15:throw t.prev=15,t.t1=t.catch(0),new Error("Error fetching data: ".concat(t.t1.message));case 18:case"end":return t.stop()}}),t,null,[[0,15],[6,10]])})));return function(e){return t.apply(this,arguments)}}(),v=function(t){return Object.entries(t).map((function(t){var e,r,i=(0,o.Z)(t,2),a=(i[0],i[1]),s=new Date,l=new Date(null===(e=a.current)||void 0===e?void 0:e.timestamp),f=Math.round((s-l)/1e3/3600);if(a.current&&(a.current.lastSeenInHours=f,a.current.sensor_status=(0,c.Ay)(f)),null!==(r=a.current)&&void 0!==r&&r["pm2.5"]){var v=(0,u.Z)(a.current["pm2.5"]);if(v){var m,p,g=h.Z[v.aqi_category_index];if(a.current.aqi=v.aqi,a.current.category=g.category,a.current.sensor_status===c.vI.active)a.current=(0,n.Z)((0,n.Z)({},a.current),{},{color:g.lightThemeColor,healthSuggestion:g.healthSuggestions[null===(m=a.sensor)||void 0===m?void 0:m.location_type]&&(0,d.ZP)(g.healthSuggestions[null===(p=a.sensor)||void 0===p?void 0:p.location_type])})}}})),t}}}]);
//# sourceMappingURL=538.7d78a1d2.chunk.js.map