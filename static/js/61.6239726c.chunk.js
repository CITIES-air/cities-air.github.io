"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[61],{8124:function(e,o,r){var t=r(1413),n=r(9439),i=(r(2791),r(5953)),a=r(6015),s=r(4565),l=r(9530),c=r(3085),u=r(9388),d=r(4011),h=r(5445),p=r(3511),f=r(4809),v=r(184),g=function(e){var o,r,t,n,i,a=e.sensorData,l=e.isScreen;return l&&a.current.sensor_status===d.vI.active?null:(0,v.jsxs)(s.Z,{variant:l?"h6":"caption",sx:{mt:0,fontWeight:l&&"500 !important"},children:[(null===(o=a.current)||void 0===o?void 0:o.sensor_status)!==d.vI.active&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.Z,{sx:{"& *":{color:"".concat(p.Z[3].lightThemeColor," !important")},mr:.5}}),"Offline.\xa0"]}),"Last update:",null!==(r=a.current)&&void 0!==r&&r.timestamp||null!==(t=a.sensor)&&void 0!==t&&t.last_seen?" ".concat((0,d.Zj)((null===(n=a.current)||void 0===n?void 0:n.timestamp)||(null===(i=a.sensor)||void 0===i?void 0:i.last_seen))," ago"):"--"]})};o.Z=function(e){var o=e.currentSensorsData,r=e.temperatureUnitPreference,u=e.isScreen,p=void 0===u||u,m=e.orderOfItems;return o?(0,v.jsx)(i.ZP,{container:!0,justifyContent:"center",sx:{"& .MuiSvgIcon-root":{verticalAlign:"sub",fontSize:p?null:"1rem"},"& *":{fontWeight:"500"},"& .condensedFont":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important","& *":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important"}}},children:Object.entries(o).map((function(e,u){var y,x,w,_,b,Z,k,C,S,j,q,M,I,T,P=(0,n.Z)(e,2),U=P[0],D=P[1];return(0,v.jsxs)(i.ZP,(0,t.Z)((0,t.Z)({item:!0,order:m&&m[u]},(T=Object.keys(o).length,{xs:Math.max(12/T,6),sm:Math.max(12/T,4),lg:p?12/T:Math.min(5,Math.max(12/T,3))})),{},{sx:(null===(y=D.current)||void 0===y?void 0:y.sensor_status)!==d.vI.active&&{"& *":{color:"".concat(f.Z.universal.palette.inactiveSensor)}},children:[(0,v.jsxs)(a.Z,{sx:{"& *":{color:null===(x=D.current)||void 0===x?void 0:x.color}},children:[(0,v.jsx)(s.Z,{variant:p?"h4":"h5",fontWeight:"500",className:"condensedFont",children:(null===(w=D.sensor)||void 0===w?void 0:w.location_long)||(null===(_=D.sensor)||void 0===_?void 0:_.location_short)||"No Location Name"}),(0,v.jsx)(s.Z,{variant:p?"h1":"h2",fontWeight:"500",lineHeight:p?.8:.9,children:(null===(b=D.current)||void 0===b?void 0:b.aqi)||"--"}),(0,v.jsx)(s.Z,{variant:p?"h4":"h5",fontWeight:"500",className:"condensedFont",children:(null===(Z=D.current)||void 0===Z?void 0:Z.category)||"--"})]}),(0,v.jsxs)(a.Z,{sx:{"& *":{color:p?(null===(k=D.current)||void 0===k?void 0:k.sensor_status)===d.vI.active?"#c8dcff":f.Z.universal.palette.inactiveSensor:"text.secondary"},mt:p?2:1},className:"condensedFont",children:[(0,v.jsxs)(s.Z,{variant:p?"h6":"body1",children:[(0,v.jsx)(l.Z,{}),(0,h.Lo)({rawTemp:null===(C=D.current)||void 0===C?void 0:C.temperature,currentUnit:h.fG.celsius,returnUnit:r}),"\xa0\xa0-\xa0",(0,v.jsx)(c.Z,{sx:{transform:"scaleX(0.9)"}}),null!==(S=D.current)&&void 0!==S&&S.rel_humidity?Math.round(null===(j=D.current)||void 0===j?void 0:j.rel_humidity):"--","%"]}),["outdoors","indoors_gym"].includes(null===(q=D.sensor)||void 0===q?void 0:q.location_type)&&(0,v.jsx)(s.Z,{variant:p?"body1":"body2",sx:{fontWeight:"300 !important"},children:(0,h.qu)({rawTemp:null===(M=D.current)||void 0===M?void 0:M.temperature,currentUnit:h.fG.celsius,rel_humidity:null===(I=D.current)||void 0===I?void 0:I.rel_humidity,returnUnit:r})}),g({sensorData:D,isScreen:p})]}),D.sensor_status!==d.vI.active&&(0,v.jsx)(s.Z,{variant:p?"h6":"body1",className:"condensedFont",children:(0,d.Tm)(D)})]}),U)}))}):null}},1745:function(e,o,r){r.d(o,{Z:function(){return i}});var t=r(4565),n=r(184);function i(e){var o=e.text;return(0,n.jsx)(t.Z,{variant:"h4",color:"text.primary",sx:{fontWeight:"medium",display:"inline-block",textTransform:"uppercase",pb:3,lineHeight:1},children:o})}},2826:function(e,o,r){var t=r(9439),n=r(2791),i=r(277),a=r(417),s=r(3671),l=r(1267),c=r(6015),u=r(5814),d=r(4565),h=r(6935),p=r(7438),f=r(184),v=(0,i.ZP)(a.Z)((function(e){var o=e.theme,r=e.expanded;return{color:o.palette.text.secondary,backgroundImage:"none",backgroundColor:r?o.palette.background.default:"transparent",boxShadow:r?o.shadows:"none",transition:"none"}})),g=(0,i.ZP)(s.Z)((function(e){var o=e.theme,r=e.expanded;return{marginTop:r?o.spacing(3):0,flexDirection:"row-reverse",paddingLeft:r?o.spacing(1):0,"& .MuiTypography-root":{color:o.palette.text.primary,textDecoration:"underline",transition:"none","&:hover":{color:o.palette.primary.main}}}}));o.Z=function(e){var o,r=e.title,i=e.content,a=(0,n.useState)(void 0),s=(0,t.Z)(a,2),m=s[0],y=s[1];return(0,f.jsx)(c.Z,{children:(0,f.jsxs)(v,{expanded:"panel1"===m,onChange:(o="panel1",function(e,r){y(r?o:void 0),p.y(r?p.z.expandSampleData:p.z.collapseSampleData)}),transitionDuration:0,children:[(0,f.jsx)(g,{expanded:m,expandIcon:(0,f.jsx)(h.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,f.jsx)(u.Z,{title:m?"Click to collapse":"Click to expand",enterDelay:0,leaveDelay:200,children:(0,f.jsx)(d.Z,{component:"a",variant:"body2",children:r})})}),(0,f.jsx)(l.Z,{children:i})]})})}},4011:function(e,o,r){r.d(o,{Zj:function(){return t},vI:function(){return n},Ay:function(){return a},Tm:function(){return s},KN:function(){return l},p7:function(){return c},c9:function(){return u},Pk:function(){return d}});var t=function(e){var o=new Date(e),r=new Date-o,t=Math.floor(r/1e3),n=Math.floor(t/60),i=Math.floor(n/60),a=Math.floor(i/24);return a>0?"".concat(a,"d"):i>0?"".concat(i,"h"):n>0?"".concat(n,"m"):"".concat(t,"s")},n={active:"active",temporaryOffline:"temporaryOffline",offline:"offline"},i=[{name:n.active,cutoffInHours:{low:0,high:2}},{name:n.temporaryOffline,cutoffInHours:{low:3,high:6}},{name:n.offline,cutoffInHours:{low:7,high:1/0}}],a=function(e){for(var o=0;o<i.length;o++){var r=i[o];if(r.cutoffInHours.low<=e&&e<=r.cutoffInHours.high)return r.name}},s=function(e){switch(e.sensor_status){case n.active:return null;case n.temporaryOffline:return"Last seen: ".concat(e.lastSeen,"h ago");case n.offline:return"Sensor offline";default:return null}},l=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):null},c=function(e){return new URL(e).hostname},u=function(e){var o="screen",r=e.split(o);return"".concat(o).concat(r.pop())},d=function(e,o){return e.bottom<o.top||e.top>o.bottom?0:e.top<o.top?-1:1}},2377:function(e,o,r){var t=r(3511);function n(e,o,r,t,n){return parseInt((e-o)/(r-t)*(n-t)+o)}o.Z=function(e){if(null==e)return{aqi:null,aqi_category_index:null};for(var o=0;o<t.Z.length;o++){var r=t.Z[o];if(e>=r.rawPM2_5.low&&e<=r.rawPM2_5.high)return{aqi:n(r.aqiUS.high,r.aqiUS.low,r.rawPM2_5.high,r.rawPM2_5.low,e),aqi_category_index:r.id}}}},3511:function(e,o,r){var t=r(4809),n=[{id:0,category:"Good",lightThemeColor:t.Z.light.palette.chart.optionsColors.aqi[0],darkThemeColor:t.Z.dark.palette.chart.optionsColors.aqi[0],aqiUS:{low:0,high:50},rawPM2_5:{low:0,high:12},description:"Air quality is satisfactory, and air pollution poses little or no risk",healthSuggestions:{outdoors:"Enjoy outdoor activities, the air is great!",indoors_generic:"Enjoy clean indoor air",indoors_dining_hall:"Enjoy clean dining hall air",indoors_gym:"Enjoy clean air for physical activities indoors",indoors_vulnerable:"Enjoy clean indoor air"}},{id:1,category:"Moderate",lightThemeColor:t.Z.light.palette.chart.optionsColors.aqi[1],darkThemeColor:t.Z.dark.palette.chart.optionsColors.aqi[1],aqiUS:{low:51,high:100},rawPM2_5:{low:12.1,high:35.4},description:"Air quality is acceptable. However, there may be a risk for some people, particularly those who are unusually sensitive to air pollution",healthSuggestions:{outdoors:"Children and individuals with respiratory issues might need to reduce prolonged outdoor exertion",indoors_generic:"Indoor air is acceptable, but not great",indoors_dining_hall:"Indoor air is acceptable, but not great<br>Avoid Grill area",indoors_gym:"Indoor air is acceptable, but not great",indoors_vulnerable:"Indoor air is acceptable, but not great"}},{id:2,category:"Unhealthy for Sensitive Groups",lightThemeColor:t.Z.light.palette.chart.optionsColors.aqi[2],darkThemeColor:t.Z.dark.palette.chart.optionsColors.aqi[2],aqiUS:{low:101,high:150},rawPM2_5:{low:35.5,high:55.4},description:"Members of sensitive groups may experience health effects. The general public is less likely to be affected",healthSuggestions:{outdoors:"Children and individuals with respiratory issues should limit outdoor exertion",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area",indoors_gym:"Individuals with respiratory issues should lower the intensity of indoor exercises",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:3,category:"Unhealthy",lightThemeColor:t.Z.light.palette.chart.optionsColors.aqi[3],darkThemeColor:t.Z.dark.palette.chart.optionsColors.aqi[3],aqiUS:{low:151,high:200},rawPM2_5:{low:55.5,high:150.4},description:"Some members of the general public may experience health effects; members of sensitive groups may experience more serious health effects",healthSuggestions:{outdoors:"Everyone should limit outdoor activities<br>Wear masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Everyone should lower the intensity of indoor exercises",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:4,category:"Very Unhealthy",lightThemeColor:t.Z.light.palette.chart.optionsColors.aqi[4],darkThemeColor:t.Z.dark.palette.chart.optionsColors.aqi[4],aqiUS:{low:201,high:300},rawPM2_5:{low:150.5,high:250.4},description:"Health alert: The risk of health effects is increased for everyone",healthSuggestions:{outdoors:"Avoid outdoor activities at all cost<br>Wear N95 masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Indoor air quality is not suitable for any physical activities",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:5,category:"Hazardous",lightThemeColor:t.Z.light.palette.chart.optionsColors.aqi[5],darkThemeColor:t.Z.dark.palette.chart.optionsColors.aqi[5],aqiUS:{low:300,high:500},rawPM2_5:{low:250.5,high:550.5},description:"Health warning of emergency conditions: everyone is more likely to be affected",healthSuggestions:{outdoors:"Avoid outdoor activities at all cost<br>Wear N95 masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Indoor air quality is not suitable for any physical activities",indoors_vulnerable:""}}];o.Z=n},8206:function(e,o,r){r.d(o,{Hx:function(){return p},uD:function(){return f}});var t=r(1413),n=r(9439),i=r(5861),a=r(4687),s=r.n(a),l=r(8914),c=r(4011),u=r(2377),d=r(3511),h=r(3540),p=function(){var e=(0,i.Z)(s().mark((function e(o){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.m)(o,"json",!0);case 3:if(r=e.sent){e.next=6;break}throw new Error("Returned data is empty");case 6:return e.prev=6,e.abrupt("return",f(r));case 10:e.prev=10,e.t0=e.catch(6),console.error("Error: data is not iterable",e.t0);case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(0),new Error("Error fetching data: ".concat(e.t1.message));case 18:case"end":return e.stop()}}),e,null,[[0,15],[6,10]])})));return function(o){return e.apply(this,arguments)}}(),f=function(e){return Object.entries(e).map((function(e){var o,r,i=(0,n.Z)(e,2),a=(i[0],i[1]),s=new Date,l=new Date(null===(o=a.current)||void 0===o?void 0:o.timestamp),p=Math.round((s-l)/1e3/3600);if(a.current&&(a.current.lastSeenInHours=p,a.current.sensor_status=(0,c.Ay)(p)),null!==(r=a.current)&&void 0!==r&&r["pm2.5"]){var f=(0,u.Z)(a.current["pm2.5"]);if(f){var v,g,m=d.Z[f.aqi_category_index];if(a.current.aqi=f.aqi,a.current.category=m.category,a.current.sensor_status===c.vI.active)a.current=(0,t.Z)((0,t.Z)({},a.current),{},{color:m.lightThemeColor,healthSuggestion:m.healthSuggestions[null===(v=a.sensor)||void 0===v?void 0:v.location_type]&&(0,h.ZP)(m.healthSuggestions[null===(g=a.sensor)||void 0===g?void 0:g.location_type])})}}})),e}}}]);
//# sourceMappingURL=61.6239726c.chunk.js.map