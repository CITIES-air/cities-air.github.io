"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[728],{1745:function(e,t,o){o.d(t,{Z:function(){return n}});var r=o(4565),i=o(184);function n(e){var t=e.text;return(0,i.jsx)(r.Z,{variant:"h4",color:"text.primary",sx:{fontWeight:"medium",display:"inline-block",textTransform:"uppercase",pb:3,lineHeight:1},children:t})}},6728:function(e,t,o){o.r(t),o.d(t,{default:function(){return B}});var r=o(885),i=o(2791),n=o(6015),a=o(803),s=o(4162),l=o(7205),c=o(1872),u=o(5953),h=o(5973),d=o(9257),f=o(1745),p=o(6344),g=o(286),m=o(4565),v=o(3540),y=o(1478),x=o(7138),b=o(184);var w=function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Z,{text:(0,x.F)(y.jZ.id)}),(0,b.jsx)(s.Z,{spacing:3,children:y.jZ.k.map((function(e,t){return(0,b.jsx)(g.Z,{elevation:2,sx:{p:3},children:(0,b.jsx)(m.Z,{variant:"body2",color:"text.secondary",children:(0,v.ZP)(e,{replace:x.T})})},t)}))})]})},Z=(o(2878),o(7438),o(6283)),j=o(4142),_=o(9500),k=o(9961),C=o(3919),q=o(6883),M=o(6042),S=o(8559),T=o.n(S),A=o(5536);var I=o.p+"static/media/IQAir_logo.6664e0a790249b05f736fb791effaaf3.svg",U=o(4011),P=o(8914),H=o(5445),E=o(3511),G=o(2377),W=o(9530),D=o(604),N=(0,o(277).ZP)(_.G)((function(e){e.theme;return{"& .leaflet-popup-tip-container":{display:"none !important"}}}));function z(){return(0,b.jsxs)("p",{children:["Map of CITIESair stations in Abu Dhabi",(0,b.jsx)("noscript",{children:"You need to enable JavaScript to see this map."})]})}var O=function(e){var t=e.themePreference,o=(0,i.useState)({}),a=(0,r.Z)(o,2),l=a[0],c=a[1],u=(0,j.Z)();(0,i.useEffect)((function(){(0,P.m)("https://api.citiesair.com/map_public_outdoors_stations","json").then((function(e){Object.entries(e).map((function(e){var o,i,n=(0,r.Z)(e,2),a=(n[0],n[1]),s=new Date,l=new Date(null===(o=a.current)||void 0===o?void 0:o.timestamp),c=Math.round((s-l)/1e3/3600);if(a.current&&(a.current.lastSeenInHours=c,a.current.sensor_status=(0,U.Ay)(c)),null!==(i=a.current)&&void 0!==i&&i["pm2.5"]){var u=(0,G.Z)(a.current["pm2.5"]);if(u){var h=E.Z[u.aqi_category_index];a.current.aqi=u.aqi,a.current.category=h.category,a.current.color=h.lightThemeColor}}a.markerIcon=new(T().DivIcon)({className:"aqi-marker-icon",html:'<div onmouseover="this.style.opacity=1;" onmouseleave="this.style.opacity=0.75;" style="width: 2.25rem; height: 2.25rem; background-color: '.concat(a.current.color,"; border-radius: 50%; border: solid 2px; display: flex; justify-content: center; align-items: center; font-size: 1rem; font-weight: 500; color: ").concat(t===D.Z.light?"black":"white",'; opacity: 0.75; :hover: {opacity: 1}">').concat(a.current.aqi||"--","</div>")})})),c(e)}))}),[]);var h="https://{s}.tile.jawg.io/jawg-".concat(t?t.toLowerCase():"light","/{z}/{x}/{y}{r}.png?access-token={accessToken}");return(0,b.jsx)(n.Z,{height:"50vh",sx:{"& .leaflet-container":{height:"100%",width:"100%"},"& .leaflet-control-attribution":{fontSize:"0.5rem"}},children:(0,b.jsxs)(k.h,{center:[24.4132075,54.5181108],zoom:10,scrollWheelZoom:!1,placeholder:(0,b.jsx)(z,{}),attributionControl:!1,children:[(0,b.jsx)(C.I,{attribution:'<a href="https://leafletjs.com/" target="_blank"><b>Leaflet</b></a> | <a href="https://jawg.io" target="_blank">&copy; <b>Jawg</b>Maps</a> <a href="https://www.openstreetmap.org/copyright">&copy; OpenStreetMap</a> contributors',url:h,minZoom:8,maxZoom:12,accessToken:"N4ppJQTC3M3uFOAsXTbVu6456x1MQnQTYityzGPvAkVB3pS27NMwJ4b3AfebMfjY"}),(0,b.jsx)(q.z,{position:"bottomright",prefix:!1}),Object.entries(l).map((function(e){var t,o,i,a,l,c,h,d,f,p,g,v,y,x,w=(0,r.Z)(e,2),j=w[0],_=w[1];return(0,b.jsx)(M.J,{position:[null===(t=_.sensor)||void 0===t||null===(o=t.coordinates)||void 0===o?void 0:o.latitude,null===(i=_.sensor)||void 0===i||null===(a=i.coordinates)||void 0===a?void 0:a.longitude],icon:_.markerIcon,children:(0,b.jsxs)(N,{children:[(0,b.jsxs)(s.Z,{direction:"row",spacing:3,children:[(0,b.jsxs)(Z.Z,{variant:"body1",fontWeight:500,href:null===(l=_.sensor)||void 0===l?void 0:l.public_iqAir_station_link,target:"_blank",rel:"noopener noreferrer",color:"".concat(u.palette.primary.main,"!important"),underline:"hover",children:[null===(c=_.sensor)||void 0===c?void 0:c.public_iqAir_station_name,"\xa0",(0,b.jsx)("sup",{children:(0,b.jsx)(A.Z,{fontSize:"0.8rem"})})]}),(0,b.jsx)(n.Z,{children:(0,b.jsx)("img",{src:I})})]}),(0,b.jsxs)(n.Z,{sx:{"& *":{color:null===(h=_.current)||void 0===h?void 0:h.color}},children:[(0,b.jsxs)(m.Z,{variant:"h3",fontWeight:"500",lineHeight:.9,children:[(null===(d=_.current)||void 0===d?void 0:d.aqi)||"--",(0,b.jsx)(m.Z,{variant:"caption",fontWeight:"500",children:"(US AQI)"})]}),(0,b.jsx)(m.Z,{variant:"body1",component:"span",fontWeight:"500",children:(null===(f=_.current)||void 0===f?void 0:f.category)||"--"})]}),(0,b.jsxs)(m.Z,{variant:"caption",sx:{display:"block",fontWeight:500},gutterBottom:!0,children:["PM2.5: ",(null===(p=_.current)||void 0===p?void 0:p["pm2.5"])||"--","\xb5g/m",(0,b.jsx)("sup",{children:"3"})]}),(0,b.jsxs)(m.Z,{variant:"caption",sx:{display:"block",fontWeight:500},gutterBottom:!0,children:[(0,b.jsx)(W.Z,{sx:{fontSize:"1rem",verticalAlign:"sub"}}),(0,H.Lo)({rawTemp:null===(g=_.current)||void 0===g?void 0:g.temperature,currentUnit:H.fG.celsius,returnUnit:H.fG.celsius}),"\xa0\xa0-\xa0\xa0",null!==(v=_.current)&&void 0!==v&&v.rel_humidity?Math.round(null===(y=_.current)||void 0===y?void 0:y.rel_humidity):"--","%"]}),(0,b.jsx)(m.Z,{variant:"caption",sx:{display:"block",fontWeight:500}}),(0,b.jsx)(n.Z,{children:(0,b.jsxs)(m.Z,{variant:"caption",sx:{mt:0},children:["Last update:",null!==(x=_.current)&&void 0!==x&&x.timestamp?" ".concat((0,U.Zj)(_.current.timestamp)," ago (").concat(new Date(_.current.timestamp).toLocaleString(),")"):"--"]})})]})},j)}))]})})},L=o(7514);var B=function(e){var t=e.themePreference,o=e.title;(0,i.useEffect)((function(){document.title=o}),[o]);var g=(0,i.useContext)(h.F),m=(0,r.Z)(g,4),v=(m[0],m[1]),x=(m[2],m[3]),Z=(0,i.useContext)(d.q);return(0,r.Z)(Z,1)[0],(0,i.useEffect)((function(){v("home"),x([])}),[v,x]),(0,b.jsxs)(n.Z,{width:"100%",children:[(0,b.jsx)(p.Z,{children:(0,b.jsxs)(a.Z,{sx:{pt:3,pb:4},children:[(0,b.jsx)(f.Z,{text:"air quality at NYUAD"}),(0,b.jsx)(L.Z,{}),(0,b.jsx)(s.Z,{width:"fit-content",children:(0,b.jsx)(l.Z,{variant:"contained",children:"Historical data"})})]})}),(0,b.jsxs)(p.Z,{sx:{backgroundColor:"customAlternateBackground"},children:[(0,b.jsx)(a.Z,{sx:{pt:3},children:(0,b.jsx)(f.Z,{text:"public stations"})}),(0,b.jsx)(O,{themePreference:t})]}),(0,b.jsx)(c.Z,{}),(0,b.jsx)(p.Z,{id:y.jZ.id,sx:{pt:3,pb:4},children:(0,b.jsx)(a.Z,{children:(0,b.jsx)(u.ZP,{container:!0,spacing:3,children:(0,b.jsx)(u.ZP,{item:!0,id:y.jZ.id,children:(0,b.jsx)(w,{})})})})})]})}},4011:function(e,t,o){o.d(t,{Zj:function(){return r},vI:function(){return i},Ay:function(){return a},Tm:function(){return s},KN:function(){return l},Bu:function(){return c}});var r=function(e){var t=new Date(e),o=new Date-t,r=Math.floor(o/1e3),i=Math.floor(r/60),n=Math.floor(i/60),a=Math.floor(n/24);return a>0?"".concat(a,"d"):n>0?"".concat(n,"h"):i>0?"".concat(i,"m"):"".concat(r,"s")},i={active:"active",temporaryOffline:"temporaryOffline",offline:"offline"},n=[{name:i.active,cutoffInHours:{low:0,high:2}},{name:i.temporaryOffline,cutoffInHours:{low:3,high:6}},{name:i.offline,cutoffInHours:{low:7,high:1/0}}],a=function(e){for(var t=0;t<n.length;t++){var o=n[t];if(o.cutoffInHours.low<=e&&e<=o.cutoffInHours.high)return o.name}},s=function(e){switch(e.sensor_status){case i.active:return null;case i.temporaryOffline:return"Last seen: ".concat(e.lastSeen,"h ago");case i.offline:return"Sensor offline";default:return null}},l=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):null},c=function(e){var t=e.split("/");return t.pop(),t.join("/")+"/"}},5445:function(e,t,o){o.d(t,{fG:function(){return r},Lo:function(){return n},qu:function(){return s}});var r={celsius:"C",fahrenheit:"F"};function i(e,t){return"number"!==typeof e?e:t===r.celsius?Math.round(5*(e-32)/9):t===r.fahrenheit?Math.round(9*e/5+32):e}function n(e){var t=e.rawTemp,o=e.currentUnit,r=e.returnUnit;return"".concat(o===r?t:i(t,r),"\xb0").concat(r)}var a=[{name:"N/A",threshold:80},{name:"Caution",threshold:90},{name:"Extreme Caution",threshold:105},{name:"Danger",threshold:130},{name:"Extreme Danger",threshold:1/0}];function s(e){var t=e.rawTemp,o=e.currentUnit,s=e.rel_humidity,l=e.returnUnit;if("number"!==typeof t||"number"!==typeof s)return null;var c,u=o===r.fahrenheit?t:i(t,r.fahrenheit);if(s<0||s>100)return null;c=u<80?u:Math.round(2.04901523*u-42.379+10.14333127*s-.22475541*u*s-.00683783*u*u-.05481717*s*s+.00122874*u*u*s+85282e-8*u*s*s-199e-8*u*u*s*s);var h=a.find((function(e){return c<e.threshold})),d=n({rawTemp:c,currentUnit:r.fahrenheit,returnUnit:l});return d&&isNaN(d)&&null!==h&&void 0!==h&&h.name?"Heat index: ".concat(d," - ").concat(null===h||void 0===h?void 0:h.name):null}},2377:function(e,t,o){var r=o(3511);function i(e,t,o,r,i){return parseInt((e-t)/(o-r)*(i-r)+t)}t.Z=function(e){if(null==e)return{aqi:null,aqi_category_index:null};for(var t=0;t<r.Z.length;t++){var o=r.Z[t];if(e>=o.rawPM2_5.low&&e<=o.rawPM2_5.high)return{aqi:i(o.aqiUS.high,o.aqiUS.low,o.rawPM2_5.high,o.rawPM2_5.low,e),aqi_category_index:o.id}}}},3511:function(e,t,o){var r=o(4809),i=[{id:0,category:"Good",lightThemeColor:r.Z.light.palette.chart.optionsColors.aqi[0],darkThemeColor:r.Z.dark.palette.chart.optionsColors.aqi[0],aqiUS:{low:0,high:50},rawPM2_5:{low:0,high:12},description:"Air quality is satisfactory, and air pollution poses little or no risk",healthSuggestions:{outdoors:"Enjoy outdoor activities, the air is great!",indoors_generic:"Enjoy clean indoor air",indoors_dining_hall:"Enjoy clean dining hall air",indoors_gym:"Enjoy clean air for physical activities indoors",indoors_vulnerable:"Enjoy clean indoor air"}},{id:1,category:"Moderate",lightThemeColor:r.Z.light.palette.chart.optionsColors.aqi[1],darkThemeColor:r.Z.dark.palette.chart.optionsColors.aqi[1],aqiUS:{low:51,high:100},rawPM2_5:{low:12.1,high:35.4},description:"Air quality is acceptable. However, there may be a risk for some people, particularly those who are unusually sensitive to air pollution",healthSuggestions:{outdoors:"Children and individuals with respiratory issues might need to reduce prolonged outdoor exertion",indoors_generic:"Indoor air is acceptable, but not great",indoors_dining_hall:"Indoor air is acceptable, but not great<br>Avoid Grill area",indoors_gym:"Indoor air is acceptable, but not great",indoors_vulnerable:"Indoor air is acceptable, but not great"}},{id:2,category:"Unhealthy for Sensitive Groups",lightThemeColor:r.Z.light.palette.chart.optionsColors.aqi[2],darkThemeColor:r.Z.dark.palette.chart.optionsColors.aqi[2],aqiUS:{low:101,high:150},rawPM2_5:{low:35.5,high:55.4},description:"Members of sensitive groups may experience health effects. The general public is less likely to be affected",healthSuggestions:{outdoors:"Children and individuals with respiratory issues should limit outdoor exertion",indoors_generic:"",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area",indoors_gym:"Individuals with respiratory issues should lower the intensity of indoor exercises",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:3,category:"Unhealthy",lightThemeColor:r.Z.light.palette.chart.optionsColors.aqi[3],darkThemeColor:r.Z.dark.palette.chart.optionsColors.aqi[3],aqiUS:{low:151,high:200},rawPM2_5:{low:55.5,high:150.4},description:"Some members of the general public may experience health effects; members of sensitive groups may experience more serious health effects",healthSuggestions:{outdoors:"Everyone should limit outdoor activities<br>Wear masks when going outside",indoors_generic:"",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Everyone should lower the intensity of indoor exercises",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:4,category:"Very Unhealthy",lightThemeColor:r.Z.light.palette.chart.optionsColors.aqi[4],darkThemeColor:r.Z.dark.palette.chart.optionsColors.aqi[4],aqiUS:{low:201,high:300},rawPM2_5:{low:150.5,high:250.4},description:"Health alert: The risk of health effects is increased for everyone",healthSuggestions:{outdoors:"Avoid outdoor activities at all cost<br>Wear N95 masks when going outside",indoors_generic:"",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Indoor air quality is not suitable for any physical activities",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:5,category:"Hazardous",lightThemeColor:r.Z.light.palette.chart.optionsColors.aqi[5],darkThemeColor:r.Z.dark.palette.chart.optionsColors.aqi[5],aqiUS:{low:300,high:500},rawPM2_5:{low:250.5,high:550.5},description:"Health warning of emergency conditions: everyone is more likely to be affected",healthSuggestions:{outdoors:"Avoid outdoor activities at all cost<br>Wear N95 masks when going outside",indoors_generic:"",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Indoor air quality is not suitable for any physical activities",indoors_vulnerable:""}}];t.Z=i}}]);
//# sourceMappingURL=728.def97217.chunk.js.map