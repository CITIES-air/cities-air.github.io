"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[300],{8124:function(e,t,n){var r=n(1413),i=n(9439),o=n(5953),a=n(6015),s=n(4565),c=n(4162),l=n(1441),d=n(9530),u=n(3085),h=n(9388),x=n(4011),m=n(5445),p=n(3511),v=n(4809),f=n(184),j=function(e){var t,n,r,i,o,a=e.sensorData,c=e.isScreen;return c&&a.current.sensor_status===x.vI.active?null:(0,f.jsxs)(s.Z,{variant:c?"h6":"caption",sx:{mt:0,fontWeight:c&&"500 !important"},children:[(null===(t=a.current)||void 0===t?void 0:t.sensor_status)!==x.vI.active&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.Z,{sx:{"& *":{color:"".concat(p.Z[3].lightThemeColor," !important")},mr:.5}}),"Offline.\xa0"]}),"Last update:",null!==(n=a.current)&&void 0!==n&&n.timestamp||null!==(r=a.sensor)&&void 0!==r&&r.last_seen?" ".concat((0,x.Zj)((null===(i=a.current)||void 0===i?void 0:i.timestamp)||(null===(o=a.sensor)||void 0===o?void 0:o.last_seen))," ago"):"--"]})};t.Z=function(e){var t=e.currentSensorsData,n=e.temperatureUnitPreference,h=e.isScreen,p=void 0===h||h;return(0,f.jsx)(o.ZP,{container:!0,justifyContent:"center",sx:{"& .MuiSvgIcon-root":{verticalAlign:"sub",fontSize:p?null:"1rem"},"& *":{fontWeight:"500"},"& .condensedFont":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important","& *":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important"}}},children:t?Object.entries(t).map((function(e,c){var l,h,Z,g,b,y,k,S,w,_,P,C,M,z,T=(0,i.Z)(e,2),I=T[0],D=T[1];return(0,f.jsxs)(o.ZP,(0,r.Z)((0,r.Z)({item:!0},(z=Object.keys(t).length,{xs:Math.max(12/z,6),sm:Math.max(12/z,4),lg:p?12/z:Math.min(5,Math.max(12/z,2))})),{},{sx:(null===(l=D.current)||void 0===l?void 0:l.sensor_status)!==x.vI.active&&{"& *":{color:"".concat(v.Z.universal.palette.inactiveSensor)}},children:[(0,f.jsxs)(a.Z,{sx:{"& *":{color:null===(h=D.current)||void 0===h?void 0:h.color}},children:[(0,f.jsx)(s.Z,{variant:p?"h4":"h5",fontWeight:"500",className:"condensedFont",children:(null===(Z=D.sensor)||void 0===Z?void 0:Z.location_long)||(null===(g=D.sensor)||void 0===g?void 0:g.location_short)||"No Location Name"}),(0,f.jsx)(s.Z,{variant:p?"h1":"h2",fontWeight:"500",lineHeight:p?.8:.9,children:(null===(b=D.current)||void 0===b?void 0:b.aqi)||"--"}),(0,f.jsx)(s.Z,{variant:p?"h4":"h5",fontWeight:"500",className:"condensedFont",children:(null===(y=D.current)||void 0===y?void 0:y.category)||"--"})]}),(0,f.jsxs)(a.Z,{sx:{"& *":{color:p?(null===(k=D.current)||void 0===k?void 0:k.sensor_status)===x.vI.active?"#c8dcff":v.Z.universal.palette.inactiveSensor:"text.secondary"},mt:p?2:1},className:"condensedFont",children:[(0,f.jsxs)(s.Z,{variant:p?"h6":"body1",children:[(0,f.jsx)(d.Z,{}),(0,m.Lo)({rawTemp:null===(S=D.current)||void 0===S?void 0:S.temperature,currentUnit:m.fG.celsius,returnUnit:n}),"\xa0\xa0-\xa0",(0,f.jsx)(u.Z,{sx:{transform:"scaleX(0.9)"}}),null!==(w=D.current)&&void 0!==w&&w.rel_humidity?Math.round(null===(_=D.current)||void 0===_?void 0:_.rel_humidity):"--","%"]}),["outdoors","indoors_gym"].includes(null===(P=D.sensor)||void 0===P?void 0:P.location_type)&&(0,f.jsx)(s.Z,{variant:p?"body1":"body2",sx:{fontWeight:"300 !important"},children:(0,m.qu)({rawTemp:null===(C=D.current)||void 0===C?void 0:C.temperature,currentUnit:m.fG.celsius,rel_humidity:null===(M=D.current)||void 0===M?void 0:M.rel_humidity,returnUnit:n})}),j({sensorData:D,isScreen:p})]}),D.sensor_status!==x.vI.active&&(0,f.jsx)(s.Z,{variant:p?"h6":"body1",className:"condensedFont",children:(0,x.Tm)(D)})]}),I)})):(0,f.jsxs)(c.Z,{direction:"column",alignItems:"center",justifyContent:"center",children:[(0,f.jsx)(l.Z,{variant:"text",sx:{width:"15rem",fontSize:"2rem"}}),(0,f.jsx)(l.Z,{variant:"text",sx:{width:"5rem",fontSize:"4rem",my:-1.5}}),(0,f.jsx)(l.Z,{variant:"text",sx:{width:"10rem",fontSize:"2rem"}}),(0,f.jsx)(l.Z,{variant:"text",sx:{width:"7.5rem",fontSize:"1rem"}}),(0,f.jsx)(l.Z,{variant:"text",sx:{width:"7.5rem",fontSize:"1rem"}})]})})}},1745:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(4565),i=n(1441),o=n(184);function a(e){var t=e.text;return(0,o.jsx)(r.Z,{variant:"h4",color:"text.primary",sx:{fontWeight:"medium",display:"block",textTransform:"uppercase",pb:3,lineHeight:1},children:t||(0,o.jsx)(i.Z,{variant:"text"})})}},7300:function(e,t,n){n.r(t),n.d(t,{default:function(){return ae}});var r=n(9439),i=n(2791),o=n(6015),a=n(803),s=n(4565),c=n(5953),l=n(4162),d=n(7205),u=n(1872),h=n(5973),x=n(1745),m=n(6344),p=n(286),v=n(3540),f=n(2826),j=n(1478),Z=n(7138),g=n(184);var b=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.Z,{text:(0,Z.F)(j.jZ.id)}),(0,g.jsxs)(l.Z,{spacing:3,children:[j.jZ.k.map((function(e,t){return(0,g.jsxs)(p.Z,{elevation:2,sx:{p:3},children:[(0,g.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:(0,v.ZP)(e.mainText,{replace:Z.T})}),e.reference&&(0,g.jsx)(f.Z,{title:"Reference",content:(0,g.jsx)(s.Z,{variant:"caption",color:"text.secondary",children:(0,v.ZP)(e.reference,{replace:Z.T})})})]},t)})),(0,g.jsx)(s.Z,{variant:"caption",color:"text.secondary",sx:{px:3},children:(0,v.ZP)(j.Ks.k,{replace:Z.T})})]})]})},y=(n(7438),n(4942)),k=n(1413),S=n(6283),w=n(4142),_=n(9500),P=n(6293),C=n(8515),M=n(9961),z=n(7626),T=n(3123),I=n(6883),D=n(6042),W=n(2840),A=n(8559),q=n.n(A),U=n(5536);var F=n.p+"static/media/IQAir_logo.6664e0a790249b05f736fb791effaaf3.svg",N=n(4011),O=n(8914),B=n(5445),L=n(3511),G=n(2377),H=n(9530),Q=n(3085),Y=n(604),E=n(277),J=n(4809),V=n(8206),X=(0,E.ZP)(_.G)((function(e){e.theme;return{"& .leaflet-popup-tip-container":{display:"none !important"}}}));function K(){return(0,g.jsxs)("p",{children:["Map of CITIESair stations in Abu Dhabi",(0,g.jsx)("noscript",{children:"You need to enable JavaScript to see this map."})]})}var R=function(e){var t,n=e.themePreference,r=e.isMiniMap;if(n===Y.Z.dark)t=r?"light":"dark";else t=r?"dark":"light";return"https://{s}.tile.jawg.io/jawg-".concat(t,"/{z}/{x}/{y}{r}.png?access-token={accessToken}")},$="N4ppJQTC3M3uFOAsXTbVu6456x1MQnQTYityzGPvAkVB3pS27NMwJ4b3AfebMfjY",ee=[24.46,54.52],te=[[22.608292,51.105185],[26.407575,56.456571]],ne={bottomleft:"leaflet-bottom leaflet-left",bottomright:"leaflet-bottom leaflet-right",topleft:"leaflet-top leaflet-left",topright:"leaflet-top leaflet-right"},re=function(e){var t,n=e.themePreference,a=e.temperatureUnitPreference,c=(0,i.useState)({}),d=(0,r.Z)(c,2),u=d[0],h=d[1],x=(0,w.Z)(),m=(0,V.kG)({endpoint:V.Cq.map});function p(e){var t=e.parentMap,o=e.zoom,a=(0,P.Sx)(),s=(0,i.useCallback)((function(e){t.setView(e.latlng,t.getZoom())}),[t]);(0,P.$_)("click",s);var c,l=(0,i.useState)(t.getBounds()),d=(0,r.Z)(l,2),u=d[0],h=d[1],x=(0,i.useCallback)((function(){h(t.getBounds()),a.setView(t.getCenter(),o)}),[a,t,o]),m=(0,i.useMemo)((function(){return{move:x,zoom:x}}),[]);return(0,W.t)({instance:t},m),(0,g.jsx)(C.A,{bounds:u,pathOptions:(0,k.Z)({weight:1},(c={themePreference:n},c.themePreference===Y.Z.dark?{fillColor:"#000",color:"#000"}:{fillColor:"#fff",color:"#fff"}))})}function v(e){var t=e.position,o=e.zoom,a=e.mapData,s=(0,P.Sx)(),c=o||6,l=(0,i.useMemo)((function(){return(0,g.jsxs)(M.h,{style:{height:"20vh",width:"30vw",maxWidth:"250px",maxHeight:"200px"},center:s.getCenter(),zoom:c,dragging:!1,doubleClickZoom:!1,scrollWheelZoom:!1,attributionControl:!1,zoomControl:!1,children:[(0,g.jsx)(z.I,{url:R({themePreference:n,isMiniMap:!0}),accessToken:$}),Object.entries(a).map((function(e){var t,n,i,o,a,s=(0,r.Z)(e,2),c=s[0],l=s[1];return(0,g.jsx)(T.c,{center:[null===(t=l.sensor)||void 0===t||null===(n=t.coordinates)||void 0===n?void 0:n.latitude,null===(i=l.sensor)||void 0===i||null===(o=i.coordinates)||void 0===o?void 0:o.longitude],pathOptions:{fillColor:null===(a=l.current)||void 0===a?void 0:a.color,radius:3,weight:0,fillOpacity:1}},c)})),(0,g.jsx)(p,{parentMap:s,zoom:c})]})}),[]),d=t&&ne[t]||ne.bottomleft;return(0,g.jsx)("div",{className:d,children:(0,g.jsx)("div",{className:"leaflet-control leaflet-bar",children:l})})}return(0,i.useEffect)((function(){(0,O.m)(m,"json").then((function(e){Object.entries(e).map((function(e){var t,i,o=(0,r.Z)(e,2),a=(o[0],o[1]),s=new Date,c=new Date(null===(t=a.current)||void 0===t?void 0:t.timestamp),l=Math.round((s-c)/1e3/3600);if(a.current&&(a.current.lastSeenInHours=l,a.current.sensor_status=(0,N.Ay)(l)),null!==(i=a.current)&&void 0!==i&&i["pm2.5"]){var d=(0,G.Z)(a.current["pm2.5"]);if(d){var u=L.Z[d.aqi_category_index];a.current.aqi=d.aqi,a.current.category=u.category,a.current.sensor_status===N.vI.active?a.current.color=u.lightThemeColor:a.current.color=J.Z.universal.palette.inactiveSensor}}a.markerIcon=new(q().DivIcon)({className:"aqi-marker-icon",html:'<div onmouseover="this.style.opacity=1;" onmouseleave="this.style.opacity=0.75;" style="width: 2.25rem; height: 2.25rem; background-color: '.concat(a.current.color,"; border-radius: 50%; border: solid 2px; display: flex; justify-content: center; align-items: center; font-size: 1rem; font-weight: 500; color: ").concat(n===Y.Z.light?"black":"white",'; opacity: 0.75; :hover: {opacity: 1}">').concat(a.current.aqi||"--","</div>")})})),h(e)}))}),[]),(0,g.jsx)(o.Z,{sx:(t={height:"50vh"},(0,y.Z)(t,x.breakpoints.down("md"),{height:"70vh"}),(0,y.Z)(t,"& .leaflet-container",{height:"100%",width:"100%"}),(0,y.Z)(t,"& .leaflet-control-attribution",{fontSize:"0.5rem"}),t),children:(0,g.jsxs)(M.h,{center:ee,zoom:10,maxBounds:te,scrollWheelZoom:!1,placeholder:(0,g.jsx)(K,{}),attributionControl:!1,children:[(0,g.jsx)(v,{position:"bottomleft",mapData:u}),(0,g.jsx)(z.I,{attribution:'<a href="https://leafletjs.com/" target="_blank"><b>Leaflet</b></a> | <a href="https://jawg.io" target="_blank">&copy; <b>Jawg</b>Maps</a> <a href="https://www.openstreetmap.org/copyright">&copy; OpenStreetMap</a> contributors',url:R({themePreference:n}),minZoom:8,maxZoom:12,bounds:te,accessToken:$}),(0,g.jsx)(I.z,{position:"bottomright",prefix:!1}),Object.entries(u).map((function(e){var t,n,i,c,d,u,h,m,p,v,f,j,Z,b,y,k=(0,r.Z)(e,2),w=k[0],_=k[1];return(0,g.jsx)(D.J,{position:[null===(t=_.sensor)||void 0===t||null===(n=t.coordinates)||void 0===n?void 0:n.latitude,null===(i=_.sensor)||void 0===i||null===(c=i.coordinates)||void 0===c?void 0:c.longitude],icon:_.markerIcon,children:(0,g.jsxs)(X,{children:[(0,g.jsxs)(l.Z,{direction:"row",spacing:3,children:[(0,g.jsxs)(S.Z,{variant:"body1",fontWeight:500,href:null===(d=_.sensor)||void 0===d?void 0:d.public_iqAir_station_link,target:"_blank",rel:"noopener noreferrer",color:"".concat(x.palette.primary.main,"!important"),underline:"hover",children:[null===(u=_.sensor)||void 0===u?void 0:u.public_iqAir_station_name,"\xa0",(0,g.jsx)("sup",{children:(0,g.jsx)(U.Z,{fontSize:"0.8rem"})})]}),(0,g.jsx)(o.Z,{children:(0,g.jsx)("img",{src:F})})]}),(0,g.jsxs)(o.Z,{sx:{"& *":{color:null===(h=_.current)||void 0===h?void 0:h.color}},children:[(0,g.jsxs)(s.Z,{variant:"h3",fontWeight:"500",lineHeight:.9,children:[(null===(m=_.current)||void 0===m?void 0:m.aqi)||"--",(0,g.jsx)(s.Z,{variant:"caption",fontWeight:"500",children:"(US AQI)"})]}),(0,g.jsx)(s.Z,{variant:"body1",component:"span",fontWeight:"500",children:(null===(p=_.current)||void 0===p?void 0:p.category)||"--"})]}),(0,g.jsxs)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500},gutterBottom:!0,children:["PM2.5: ",(null===(v=_.current)||void 0===v?void 0:v["pm2.5"])||"--","\xb5g/m",(0,g.jsx)("sup",{children:"3"})]}),(0,g.jsxs)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500},gutterBottom:!0,children:[(0,g.jsx)(H.Z,{sx:{fontSize:"1rem",verticalAlign:"sub"}}),(0,B.Lo)({rawTemp:null===(f=_.current)||void 0===f?void 0:f.temperature,currentUnit:B.fG.celsius,returnUnit:a}),"\xa0\xa0-\xa0\xa0",(0,g.jsx)(Q.Z,{sx:{fontSize:"1rem",verticalAlign:"sub"}}),null!==(j=_.current)&&void 0!==j&&j.rel_humidity?Math.round(null===(Z=_.current)||void 0===Z?void 0:Z.rel_humidity):"--","%"]}),(0,g.jsx)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500}}),(0,g.jsxs)(o.Z,{children:[(0,g.jsxs)(s.Z,{variant:"caption",sx:{mt:0},children:[(0,g.jsx)(s.Z,{variant:"caption",fontWeight:"500",children:"Last update:"}),null!==(b=_.current)&&void 0!==b&&b.timestamp?" ".concat((0,N.Zj)(_.current.timestamp)," ago (").concat(new Date(_.current.timestamp).toLocaleString(),")"):"--"]}),(0,g.jsx)("br",{}),(0,g.jsxs)(s.Z,{variant:"caption",textTransform:"capitalize",children:[(0,g.jsx)(s.Z,{variant:"caption",fontWeight:"500",children:"Status:"}),"\xa0",null===(y=_.current)||void 0===y?void 0:y.sensor_status]})]})]})},w)}))]})})},ie=n(8124);var oe=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(x.Z,{text:(0,Z.F)(j.W5.id)}),(0,g.jsx)(p.Z,{elevation:2,sx:{p:3,pb:1},children:(0,g.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:(0,v.ZP)(j.W5.k,{replace:Z.T})})})]})};var ae=function(e){var t=e.themePreference,n=e.temperatureUnitPreference,p=e.title;(0,i.useEffect)((function(){document.title=p}),[p]);var f=(0,i.useContext)(h.F),y=(0,r.Z)(f,4),k=(y[0],y[1]),S=(y[2],y[3]);(0,i.useEffect)((function(){k("home"),S([])}),[k,S]);var w=(0,i.useState)({}),_=(0,r.Z)(w,2),P=_[0],C=_[1];return(0,i.useEffect)((function(){var e=(0,V.kG)({endpoint:V.Cq.current,school_id:"nyuad"});(0,V.mQ)(e).then((function(e){C(e)})).catch((function(e){return console.log(e)}))}),[]),(0,g.jsxs)(o.Z,{width:"100%",children:[(0,g.jsx)(m.Z,{children:(0,g.jsxs)(a.Z,{sx:{pt:3,pb:4},children:[(0,g.jsx)(x.Z,{text:"real-time air quality at NYUAD"}),(0,g.jsx)(s.Z,{variant:"body1",color:"text.secondary",sx:{mt:-2,mb:2},children:"PM2.5 (Particulate Matter Smaller Than 2.5 Micrometer)"}),(0,g.jsxs)(c.ZP,{container:!0,justifyContent:"center",spacing:3,children:[(0,g.jsx)(c.ZP,{item:!0,textAlign:"center",xs:10,children:(0,g.jsx)(ie.Z,{currentSensorsData:P,isScreen:!1,temperatureUnitPreference:n})}),(0,g.jsx)(c.ZP,{item:!0,xs:12,children:(0,g.jsxs)(l.Z,{width:"fit-content",alignItems:"center",margin:"auto",children:[(0,g.jsxs)(d.Z,{variant:"contained",sx:{width:"fit-content",mb:1},href:"https://citiesdashboard.com/project/air-quality",target:"blank",rel:"noopener noreferrer",children:[(0,g.jsx)(U.Z,{sx:{fontSize:"0.8rem"}}),"\xa0NYUAD Dashboard (Public Access)"]}),(0,g.jsx)(s.Z,{variant:"caption",color:"text.secondary",children:"See detailed analysis of historical air quality data at NYUAD"})]})})]})]})}),(0,g.jsxs)(m.Z,{sx:{backgroundColor:"customAlternateBackground"},children:[(0,g.jsxs)(a.Z,{sx:{py:3},children:[(0,g.jsx)(x.Z,{text:"public outdoor stations"}),(0,g.jsx)(s.Z,{variant:"body1",color:"text.secondary",children:(0,v.ZP)(j.Hl.k,{replace:Z.T})})]}),(0,g.jsx)(re,{themePreference:t,temperatureUnitPreference:n})]}),(0,g.jsx)(u.Z,{}),(0,g.jsx)(m.Z,{id:j.jZ.id,sx:{pt:3,pb:4},children:(0,g.jsx)(a.Z,{children:(0,g.jsx)(b,{})})}),(0,g.jsx)(u.Z,{}),(0,g.jsx)(m.Z,{id:j.W5.id,sx:{pt:3,pb:4},children:(0,g.jsx)(a.Z,{children:(0,g.jsx)(oe,{})})})]})}},2826:function(e,t,n){var r=n(9439),i=n(2791),o=n(277),a=n(417),s=n(3671),c=n(1267),l=n(6015),d=n(5814),u=n(4565),h=n(6935),x=n(7438),m=n(184),p=(0,o.ZP)(a.Z)((function(e){var t=e.theme,n=e.expanded;return{color:t.palette.text.secondary,backgroundImage:"none",backgroundColor:n?t.palette.background.default:"transparent",boxShadow:n?t.shadows:"none",transition:"none"}})),v=(0,o.ZP)(s.Z)((function(e){var t=e.theme,n=e.expanded;return{marginTop:n?t.spacing(3):0,flexDirection:"row-reverse",paddingLeft:n?t.spacing(1):0,"& .MuiTypography-root":{color:t.palette.text.primary,textDecoration:"underline",transition:"none","&:hover":{color:t.palette.primary.main}}}}));t.Z=function(e){var t,n=e.title,o=e.content,a=(0,i.useState)(void 0),s=(0,r.Z)(a,2),f=s[0],j=s[1];return(0,m.jsx)(l.Z,{children:(0,m.jsxs)(p,{expanded:"panel1"===f,onChange:(t="panel1",function(e,n){j(n?t:void 0),x.y(n?x.z.expandSampleData:x.z.collapseSampleData)}),transitionDuration:0,children:[(0,m.jsx)(v,{expanded:f,expandIcon:(0,m.jsx)(h.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,m.jsx)(d.Z,{title:f?"Click to collapse":"Click to expand",enterDelay:0,leaveDelay:200,children:(0,m.jsx)(u.Z,{component:"a",variant:"body2",children:n})})}),(0,m.jsx)(c.Z,{children:o})]})})}}}]);
//# sourceMappingURL=300.fb0548f4.chunk.js.map