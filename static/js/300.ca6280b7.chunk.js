"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[300],{7300:function(e,t,r){r.r(t),r.d(t,{default:function(){return ae}});var n=r(9439),i=r(2791),o=r(6015),a=r(803),s=r(4565),c=r(5953),l=r(4162),u=r(7205),d=r(1872),h=r(5973),p=r(1745),f=r(6344),x=r(286),m=r(3540),v=r(2826),j=r(1478),Z=r(7138),g=r(184);var b=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Z,{text:(0,Z.F)(j.jZ.id)}),(0,g.jsxs)(l.Z,{spacing:3,children:[j.jZ.k.map((function(e,t){return(0,g.jsxs)(x.Z,{elevation:2,sx:{p:3},children:[(0,g.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:(0,m.ZP)(e.mainText,{replace:Z.T})}),e.reference&&(0,g.jsx)(v.Z,{title:"Reference",content:(0,g.jsx)(s.Z,{variant:"caption",color:"text.secondary",children:(0,m.ZP)(e.reference,{replace:Z.T})})})]},t)})),(0,g.jsx)(s.Z,{variant:"caption",color:"text.secondary",sx:{px:3},children:(0,m.ZP)(j.Ks.k,{replace:Z.T})})]})]})},y=(r(7438),r(4942)),k=r(1413),w=r(6283),P=r(4142),S=r(9500),_=r(6293),M=r(8515),C=r(9961),A=r(7626),z=r(3123),T=r(6883),W=r(6042),I=r(2840),D=r(8559),q=r.n(D),U=r(5536);var O=r.p+"static/media/IQAir_logo.6664e0a790249b05f736fb791effaaf3.svg",N=r(4011),B=r(8914),F=r(5445),Q=r(3511),Y=r(2377),E=r(9530),J=r(3085),H=r(604),L=r(277),V=r(4809),G=(0,L.ZP)(S.G)((function(e){e.theme;return{"& .leaflet-popup-tip-container":{display:"none !important"}}}));function K(){return(0,g.jsxs)("p",{children:["Map of CITIESair stations in Abu Dhabi",(0,g.jsx)("noscript",{children:"You need to enable JavaScript to see this map."})]})}var R=function(e){var t,r=e.themePreference,n=e.isMiniMap;if(r===H.Z.dark)t=n?"light":"dark";else t=n?"dark":"light";return"https://{s}.tile.jawg.io/jawg-".concat(t,"/{z}/{x}/{y}{r}.png?access-token={accessToken}")},X="N4ppJQTC3M3uFOAsXTbVu6456x1MQnQTYityzGPvAkVB3pS27NMwJ4b3AfebMfjY",$=[24.46,54.52],ee=[[22.608292,51.105185],[26.407575,56.456571]],te={bottomleft:"leaflet-bottom leaflet-left",bottomright:"leaflet-bottom leaflet-right",topleft:"leaflet-top leaflet-left",topright:"leaflet-top leaflet-right"},re=function(e){var t,r=e.themePreference,a=e.temperatureUnitPreference,c=(0,i.useState)({}),u=(0,n.Z)(c,2),d=u[0],h=u[1],p=(0,P.Z)();function f(e){var t=e.parentMap,o=e.zoom,a=(0,_.Sx)(),s=(0,i.useCallback)((function(e){t.setView(e.latlng,t.getZoom())}),[t]);(0,_.$_)("click",s);var c,l=(0,i.useState)(t.getBounds()),u=(0,n.Z)(l,2),d=u[0],h=u[1],p=(0,i.useCallback)((function(){h(t.getBounds()),a.setView(t.getCenter(),o)}),[a,t,o]),f=(0,i.useMemo)((function(){return{move:p,zoom:p}}),[]);return(0,I.t)({instance:t},f),(0,g.jsx)(M.A,{bounds:d,pathOptions:(0,k.Z)({weight:1},(c={themePreference:r},c.themePreference===H.Z.dark?{fillColor:"#000",color:"#000"}:{fillColor:"#fff",color:"#fff"}))})}function x(e){var t=e.position,o=e.zoom,a=e.mapData,s=(0,_.Sx)(),c=o||6,l=(0,i.useMemo)((function(){return(0,g.jsxs)(C.h,{style:{height:"20vh",width:"30vw",maxWidth:"250px",maxHeight:"200px"},center:s.getCenter(),zoom:c,dragging:!1,doubleClickZoom:!1,scrollWheelZoom:!1,attributionControl:!1,zoomControl:!1,children:[(0,g.jsx)(A.I,{url:R({themePreference:r,isMiniMap:!0}),accessToken:X}),Object.entries(a).map((function(e){var t,r,i,o,a,s=(0,n.Z)(e,2),c=s[0],l=s[1];return(0,g.jsx)(z.c,{center:[null===(t=l.sensor)||void 0===t||null===(r=t.coordinates)||void 0===r?void 0:r.latitude,null===(i=l.sensor)||void 0===i||null===(o=i.coordinates)||void 0===o?void 0:o.longitude],pathOptions:{fillColor:null===(a=l.current)||void 0===a?void 0:a.color,radius:3,weight:0,fillOpacity:1}},c)})),(0,g.jsx)(f,{parentMap:s,zoom:c})]})}),[]),u=t&&te[t]||te.bottomleft;return(0,g.jsx)("div",{className:u,children:(0,g.jsx)("div",{className:"leaflet-control leaflet-bar",children:l})})}return(0,i.useEffect)((function(){(0,B.m)("https://api.citiesair.com/map_public_outdoors_stations","json").then((function(e){Object.entries(e).map((function(e){var t,i,o=(0,n.Z)(e,2),a=(o[0],o[1]),s=new Date,c=new Date(null===(t=a.current)||void 0===t?void 0:t.timestamp),l=Math.round((s-c)/1e3/3600);if(a.current&&(a.current.lastSeenInHours=l,a.current.sensor_status=(0,N.Ay)(l)),null!==(i=a.current)&&void 0!==i&&i["pm2.5"]){var u=(0,Y.Z)(a.current["pm2.5"]);if(u){var d=Q.Z[u.aqi_category_index];a.current.aqi=u.aqi,a.current.category=d.category,a.current.sensor_status===N.vI.active?a.current.color=d.lightThemeColor:a.current.color=V.Z.universal.palette.inactiveSensor}}a.markerIcon=new(q().DivIcon)({className:"aqi-marker-icon",html:'<div onmouseover="this.style.opacity=1;" onmouseleave="this.style.opacity=0.75;" style="width: 2.25rem; height: 2.25rem; background-color: '.concat(a.current.color,"; border-radius: 50%; border: solid 2px; display: flex; justify-content: center; align-items: center; font-size: 1rem; font-weight: 500; color: ").concat(r===H.Z.light?"black":"white",'; opacity: 0.75; :hover: {opacity: 1}">').concat(a.current.aqi||"--","</div>")})})),h(e)}))}),[]),(0,g.jsx)(o.Z,{sx:(t={height:"50vh"},(0,y.Z)(t,p.breakpoints.down("md"),{height:"70vh"}),(0,y.Z)(t,"& .leaflet-container",{height:"100%",width:"100%"}),(0,y.Z)(t,"& .leaflet-control-attribution",{fontSize:"0.5rem"}),t),children:(0,g.jsxs)(C.h,{center:$,zoom:10,maxBounds:ee,scrollWheelZoom:!1,placeholder:(0,g.jsx)(K,{}),attributionControl:!1,children:[(0,g.jsx)(x,{position:"bottomleft",mapData:d}),(0,g.jsx)(A.I,{attribution:'<a href="https://leafletjs.com/" target="_blank"><b>Leaflet</b></a> | <a href="https://jawg.io" target="_blank">&copy; <b>Jawg</b>Maps</a> <a href="https://www.openstreetmap.org/copyright">&copy; OpenStreetMap</a> contributors',url:R({themePreference:r}),minZoom:8,maxZoom:12,bounds:ee,accessToken:X}),(0,g.jsx)(T.z,{position:"bottomright",prefix:!1}),Object.entries(d).map((function(e){var t,r,i,c,u,d,h,f,x,m,v,j,Z,b,y,k=(0,n.Z)(e,2),P=k[0],S=k[1];return(0,g.jsx)(W.J,{position:[null===(t=S.sensor)||void 0===t||null===(r=t.coordinates)||void 0===r?void 0:r.latitude,null===(i=S.sensor)||void 0===i||null===(c=i.coordinates)||void 0===c?void 0:c.longitude],icon:S.markerIcon,children:(0,g.jsxs)(G,{children:[(0,g.jsxs)(l.Z,{direction:"row",spacing:3,children:[(0,g.jsxs)(w.Z,{variant:"body1",fontWeight:500,href:null===(u=S.sensor)||void 0===u?void 0:u.public_iqAir_station_link,target:"_blank",rel:"noopener noreferrer",color:"".concat(p.palette.primary.main,"!important"),underline:"hover",children:[null===(d=S.sensor)||void 0===d?void 0:d.public_iqAir_station_name,"\xa0",(0,g.jsx)("sup",{children:(0,g.jsx)(U.Z,{fontSize:"0.8rem"})})]}),(0,g.jsx)(o.Z,{children:(0,g.jsx)("img",{src:O})})]}),(0,g.jsxs)(o.Z,{sx:{"& *":{color:null===(h=S.current)||void 0===h?void 0:h.color}},children:[(0,g.jsxs)(s.Z,{variant:"h3",fontWeight:"500",lineHeight:.9,children:[(null===(f=S.current)||void 0===f?void 0:f.aqi)||"--",(0,g.jsx)(s.Z,{variant:"caption",fontWeight:"500",children:"(US AQI)"})]}),(0,g.jsx)(s.Z,{variant:"body1",component:"span",fontWeight:"500",children:(null===(x=S.current)||void 0===x?void 0:x.category)||"--"})]}),(0,g.jsxs)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500},gutterBottom:!0,children:["PM2.5: ",(null===(m=S.current)||void 0===m?void 0:m["pm2.5"])||"--","\xb5g/m",(0,g.jsx)("sup",{children:"3"})]}),(0,g.jsxs)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500},gutterBottom:!0,children:[(0,g.jsx)(E.Z,{sx:{fontSize:"1rem",verticalAlign:"sub"}}),(0,F.Lo)({rawTemp:null===(v=S.current)||void 0===v?void 0:v.temperature,currentUnit:F.fG.celsius,returnUnit:a}),"\xa0\xa0-\xa0\xa0",(0,g.jsx)(J.Z,{sx:{fontSize:"1rem",verticalAlign:"sub"}}),null!==(j=S.current)&&void 0!==j&&j.rel_humidity?Math.round(null===(Z=S.current)||void 0===Z?void 0:Z.rel_humidity):"--","%"]}),(0,g.jsx)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500}}),(0,g.jsxs)(o.Z,{children:[(0,g.jsxs)(s.Z,{variant:"caption",sx:{mt:0},children:[(0,g.jsx)(s.Z,{variant:"caption",fontWeight:"500",children:"Last update:"}),null!==(b=S.current)&&void 0!==b&&b.timestamp?" ".concat((0,N.Zj)(S.current.timestamp)," ago (").concat(new Date(S.current.timestamp).toLocaleString(),")"):"--"]}),(0,g.jsx)("br",{}),(0,g.jsxs)(s.Z,{variant:"caption",textTransform:"capitalize",children:[(0,g.jsx)(s.Z,{variant:"caption",fontWeight:"500",children:"Status:"}),"\xa0",null===(y=S.current)||void 0===y?void 0:y.sensor_status]})]})]})},P)}))]})})},ne=r(8124),ie=r(8206);var oe=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Z,{text:(0,Z.F)(j.W5.id)}),(0,g.jsx)(x.Z,{elevation:2,sx:{p:3,pb:1},children:(0,g.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:(0,m.ZP)(j.W5.k,{replace:Z.T})})})]})};var ae=function(e){var t=e.themePreference,r=e.temperatureUnitPreference,x=e.title;(0,i.useEffect)((function(){document.title=x}),[x]);var v=(0,i.useContext)(h.F),y=(0,n.Z)(v,4),k=(y[0],y[1]),w=(y[2],y[3]);(0,i.useEffect)((function(){k("home"),w([])}),[k,w]);var P=(0,i.useState)({}),S=(0,n.Z)(P,2),_=S[0],M=S[1];return(0,i.useEffect)((function(){(0,ie.mQ)("https://api.citiesair.com/current/nyuad").then((function(e){M(e)})).catch((function(e){return console.log(e)}))}),[]),(0,g.jsxs)(o.Z,{width:"100%",children:[(0,g.jsx)(f.Z,{children:(0,g.jsxs)(a.Z,{sx:{pt:3,pb:4},children:[(0,g.jsx)(p.Z,{text:"real-time air quality at NYUAD"}),(0,g.jsx)(s.Z,{variant:"body1",color:"text.secondary",sx:{mt:-2,mb:2},children:"PM2.5 (Particulate Matter Smaller Than 2.5 Micrometer)"}),(0,g.jsxs)(c.ZP,{container:!0,justifyContent:"center",spacing:3,children:[(0,g.jsx)(c.ZP,{item:!0,textAlign:"center",xs:10,children:(0,g.jsx)(ne.Z,{currentSensorsData:_,isScreen:!1,orderOfItems:[3,1,2],temperatureUnitPreference:r})}),(0,g.jsx)(c.ZP,{item:!0,xs:12,children:(0,g.jsxs)(l.Z,{width:"fit-content",alignItems:"center",margin:"auto",children:[(0,g.jsxs)(u.Z,{variant:"contained",sx:{width:"fit-content",mb:1},href:"https://citiesdashboard.com/project/air-quality",target:"blank",rel:"noopener noreferrer",children:[(0,g.jsx)(U.Z,{sx:{fontSize:"0.8rem"}}),"\xa0NYUAD Dashboard (Public Access)"]}),(0,g.jsx)(s.Z,{variant:"caption",color:"text.secondary",children:"See detailed analysis of historical air quality data at NYUAD"})]})})]})]})}),(0,g.jsxs)(f.Z,{sx:{backgroundColor:"customAlternateBackground"},children:[(0,g.jsxs)(a.Z,{sx:{py:3},children:[(0,g.jsx)(p.Z,{text:"public outdoor stations"}),(0,g.jsx)(s.Z,{variant:"body1",color:"text.secondary",children:(0,m.ZP)(j.Hl.k,{replace:Z.T})})]}),(0,g.jsx)(re,{themePreference:t,temperatureUnitPreference:r})]}),(0,g.jsx)(d.Z,{}),(0,g.jsx)(f.Z,{id:j.jZ.id,sx:{pt:3,pb:4},children:(0,g.jsx)(a.Z,{children:(0,g.jsx)(b,{})})}),(0,g.jsx)(d.Z,{}),(0,g.jsx)(f.Z,{id:j.W5.id,sx:{pt:3,pb:4},children:(0,g.jsx)(a.Z,{children:(0,g.jsx)(oe,{})})})]})}}}]);
//# sourceMappingURL=300.ca6280b7.chunk.js.map