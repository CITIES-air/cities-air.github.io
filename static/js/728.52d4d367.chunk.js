"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[728],{8124:function(e,t,r){var o=r(1413),n=r(885),i=(r(2791),r(5953)),a=r(6015),s=r(4565),l=r(9530),c=r(3085),u=r(9388),d=r(4011),h=r(5445),p=r(3511),f=r(4809),m=r(184),v=function(e){var t,r,o=e.sensorData,n=e.isScreen;return n&&o.current.sensor_status===d.vI.active?null:(0,m.jsxs)(s.Z,{variant:n?"h6":"caption",sx:{mt:0,fontWeight:n&&"500 !important"},children:[(null===(t=o.current)||void 0===t?void 0:t.sensor_status)!==d.vI.active&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(u.Z,{sx:{"& *":{color:"".concat(p.Z[3].lightThemeColor," !important")},mr:.5}}),"Offline.\xa0"]}),"Last update:",null!==(r=o.current)&&void 0!==r&&r.timestamp?" ".concat((0,d.Zj)(o.current.timestamp)," ago"):"--"]})};t.Z=function(e){var t=e.currentData,r=e.temperatureUnitPreference,u=e.isScreen,p=void 0===u||u,g=e.orderOfItems;return(0,m.jsx)(i.ZP,{container:!0,justifyContent:"center",sx:{"& .MuiSvgIcon-root":{verticalAlign:"sub",fontSize:p?null:"1rem"},"& *":{fontWeight:"500"},"& .condensedFont":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important","& *":{fontFamily:"IBM Plex Sans Condensed, sans-serif !important"}}},children:Object.entries(t).map((function(e,u){var y,x,b,Z,j,w,_,k,C,S,q,M,I,P,T=(0,n.Z)(e,2),A=T[0],U=T[1];return(0,m.jsxs)(i.ZP,(0,o.Z)((0,o.Z)({item:!0,order:g&&g[u]},(P=Object.keys(t).length,{xs:Math.max(12/P,6),sm:Math.max(12/P,4),lg:p?12/P:Math.min(5,Math.max(12/P,3))})),{},{sx:(null===(y=U.current)||void 0===y?void 0:y.sensor_status)!==d.vI.active&&{"& *":{color:"".concat(f.Z.universal.palette.inactiveSensor)}},children:[(0,m.jsxs)(a.Z,{sx:{"& *":{color:null===(x=U.current)||void 0===x?void 0:x.color}},children:[(0,m.jsx)(s.Z,{variant:p?"h4":"h5",fontWeight:"500",className:"condensedFont",children:(null===(b=U.sensor)||void 0===b?void 0:b.location_long)||(null===(Z=U.sensor)||void 0===Z?void 0:Z.location_short)||"No Location Name"}),(0,m.jsx)(s.Z,{variant:p?"h1":"h2",fontWeight:"500",lineHeight:p?.8:.9,children:(null===(j=U.current)||void 0===j?void 0:j.aqi)||"--"}),(0,m.jsx)(s.Z,{variant:p?"h4":"h5",fontWeight:"500",className:"condensedFont",children:(null===(w=U.current)||void 0===w?void 0:w.category)||"--"})]}),(0,m.jsxs)(a.Z,{sx:{"& *":{color:p?(null===(_=U.current)||void 0===_?void 0:_.sensor_status)===d.vI.active?"#c8dcff":f.Z.universal.palette.inactiveSensor:"text.secondary"},mt:p?2:1},className:"condensedFont",children:[(0,m.jsxs)(s.Z,{variant:p?"h6":"body1",children:[(0,m.jsx)(l.Z,{}),(0,h.Lo)({rawTemp:(null===(k=U.current)||void 0===k?void 0:k.temperature)||"--",currentUnit:h.fG.celsius,returnUnit:r}),"\xa0\xa0-\xa0",(0,m.jsx)(c.Z,{sx:{transform:"scaleX(0.9)"}}),null!==(C=U.current)&&void 0!==C&&C.rel_humidity?Math.round(null===(S=U.current)||void 0===S?void 0:S.rel_humidity):"--","%"]}),["outdoors","indoors_gym"].includes(null===(q=U.sensor)||void 0===q?void 0:q.location_type)&&(0,m.jsx)(s.Z,{variant:p?"body1":"body2",sx:{fontWeight:"300 !important"},children:(0,h.qu)({rawTemp:null===(M=U.current)||void 0===M?void 0:M.temperature,currentUnit:h.fG.celsius,rel_humidity:null===(I=U.current)||void 0===I?void 0:I.rel_humidity,returnUnit:r})}),v({sensorData:U,isScreen:p})]}),U.sensor_status!==d.vI.active&&(0,m.jsx)(s.Z,{variant:p?"h6":"body1",className:"condensedFont",children:(0,d.Tm)(U)})]}),A)}))})}},1745:function(e,t,r){r.d(t,{Z:function(){return i}});var o=r(4565),n=r(184);function i(e){var t=e.text;return(0,n.jsx)(o.Z,{variant:"h4",color:"text.primary",sx:{fontWeight:"medium",display:"inline-block",textTransform:"uppercase",pb:3,lineHeight:1},children:t})}},6728:function(e,t,r){r.r(t),r.d(t,{default:function(){return L}});var o=r(885),n=r(2791),i=r(6015),a=r(803),s=r(4565),l=r(5953),c=r(4162),u=r(7205),d=r(1872),h=r(5973),p=r(1745),f=r(6344),m=r(286),v=r(3540),g=r(1478),y=r(7138),x=r(184);var b=function(){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.Z,{text:(0,y.F)(g.jZ.id)}),(0,x.jsx)(c.Z,{spacing:3,children:g.jZ.k.map((function(e,t){return(0,x.jsx)(m.Z,{elevation:2,sx:{p:3},children:(0,x.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:(0,v.ZP)(e,{replace:y.T})})},t)}))})]})},Z=(r(7438),r(6283)),j=r(4142),w=r(9500),_=r(9961),k=r(3919),C=r(6883),S=r(6042),q=r(8559),M=r.n(q),I=r(5536);var P=r.p+"static/media/IQAir_logo.6664e0a790249b05f736fb791effaaf3.svg",T=r(4011),A=r(8914),U=r(5445),E=r(3511),W=r(2377),D=r(9530),N=r(604),O=(0,r(277).ZP)(w.G)((function(e){e.theme;return{"& .leaflet-popup-tip-container":{display:"none !important"}}}));function H(){return(0,x.jsxs)("p",{children:["Map of CITIESair stations in Abu Dhabi",(0,x.jsx)("noscript",{children:"You need to enable JavaScript to see this map."})]})}var F=function(e){var t=e.themePreference,r=e.temperatureUnitPreference,a=(0,n.useState)({}),l=(0,o.Z)(a,2),u=l[0],d=l[1],h=(0,j.Z)();(0,n.useEffect)((function(){(0,A.m)("https://api.citiesair.com/map_public_outdoors_stations","json").then((function(e){Object.entries(e).map((function(e){var r,n,i=(0,o.Z)(e,2),a=(i[0],i[1]),s=new Date,l=new Date(null===(r=a.current)||void 0===r?void 0:r.timestamp),c=Math.round((s-l)/1e3/3600);if(a.current&&(a.current.lastSeenInHours=c,a.current.sensor_status=(0,T.Ay)(c)),null!==(n=a.current)&&void 0!==n&&n["pm2.5"]){var u=(0,W.Z)(a.current["pm2.5"]);if(u){var d=E.Z[u.aqi_category_index];a.current.aqi=u.aqi,a.current.category=d.category,a.current.color=d.lightThemeColor}}a.markerIcon=new(M().DivIcon)({className:"aqi-marker-icon",html:'<div onmouseover="this.style.opacity=1;" onmouseleave="this.style.opacity=0.75;" style="width: 2.25rem; height: 2.25rem; background-color: '.concat(a.current.color,"; border-radius: 50%; border: solid 2px; display: flex; justify-content: center; align-items: center; font-size: 1rem; font-weight: 500; color: ").concat(t===N.Z.light?"black":"white",'; opacity: 0.75; :hover: {opacity: 1}">').concat(a.current.aqi||"--","</div>")})})),d(e)}))}),[]);var p="https://{s}.tile.jawg.io/jawg-".concat(t?t.toLowerCase():"light","/{z}/{x}/{y}{r}.png?access-token={accessToken}");return(0,x.jsx)(i.Z,{height:"50vh",sx:{"& .leaflet-container":{height:"100%",width:"100%"},"& .leaflet-control-attribution":{fontSize:"0.5rem"}},children:(0,x.jsxs)(_.h,{center:[24.4132075,54.5181108],zoom:10,scrollWheelZoom:!1,placeholder:(0,x.jsx)(H,{}),attributionControl:!1,children:[(0,x.jsx)(k.I,{attribution:'<a href="https://leafletjs.com/" target="_blank"><b>Leaflet</b></a> | <a href="https://jawg.io" target="_blank">&copy; <b>Jawg</b>Maps</a> <a href="https://www.openstreetmap.org/copyright">&copy; OpenStreetMap</a> contributors',url:p,minZoom:8,maxZoom:12,accessToken:"N4ppJQTC3M3uFOAsXTbVu6456x1MQnQTYityzGPvAkVB3pS27NMwJ4b3AfebMfjY"}),(0,x.jsx)(C.z,{position:"bottomright",prefix:!1}),Object.entries(u).map((function(e){var t,n,a,l,u,d,p,f,m,v,g,y,b,j,w=(0,o.Z)(e,2),_=w[0],k=w[1];return(0,x.jsx)(S.J,{position:[null===(t=k.sensor)||void 0===t||null===(n=t.coordinates)||void 0===n?void 0:n.latitude,null===(a=k.sensor)||void 0===a||null===(l=a.coordinates)||void 0===l?void 0:l.longitude],icon:k.markerIcon,children:(0,x.jsxs)(O,{children:[(0,x.jsxs)(c.Z,{direction:"row",spacing:3,children:[(0,x.jsxs)(Z.Z,{variant:"body1",fontWeight:500,href:null===(u=k.sensor)||void 0===u?void 0:u.public_iqAir_station_link,target:"_blank",rel:"noopener noreferrer",color:"".concat(h.palette.primary.main,"!important"),underline:"hover",children:[null===(d=k.sensor)||void 0===d?void 0:d.public_iqAir_station_name,"\xa0",(0,x.jsx)("sup",{children:(0,x.jsx)(I.Z,{fontSize:"0.8rem"})})]}),(0,x.jsx)(i.Z,{children:(0,x.jsx)("img",{src:P})})]}),(0,x.jsxs)(i.Z,{sx:{"& *":{color:null===(p=k.current)||void 0===p?void 0:p.color}},children:[(0,x.jsxs)(s.Z,{variant:"h3",fontWeight:"500",lineHeight:.9,children:[(null===(f=k.current)||void 0===f?void 0:f.aqi)||"--",(0,x.jsx)(s.Z,{variant:"caption",fontWeight:"500",children:"(US AQI)"})]}),(0,x.jsx)(s.Z,{variant:"body1",component:"span",fontWeight:"500",children:(null===(m=k.current)||void 0===m?void 0:m.category)||"--"})]}),(0,x.jsxs)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500},gutterBottom:!0,children:["PM2.5: ",(null===(v=k.current)||void 0===v?void 0:v["pm2.5"])||"--","\xb5g/m",(0,x.jsx)("sup",{children:"3"})]}),(0,x.jsxs)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500},gutterBottom:!0,children:[(0,x.jsx)(D.Z,{sx:{fontSize:"1rem",verticalAlign:"sub"}}),(0,U.Lo)({rawTemp:null===(g=k.current)||void 0===g?void 0:g.temperature,currentUnit:U.fG.celsius,returnUnit:r}),"\xa0\xa0-\xa0\xa0",null!==(y=k.current)&&void 0!==y&&y.rel_humidity?Math.round(null===(b=k.current)||void 0===b?void 0:b.rel_humidity):"--","%"]}),(0,x.jsx)(s.Z,{variant:"caption",sx:{display:"block",fontWeight:500}}),(0,x.jsx)(i.Z,{children:(0,x.jsxs)(s.Z,{variant:"caption",sx:{mt:0},children:["Last update:",null!==(j=k.current)&&void 0!==j&&j.timestamp?" ".concat((0,T.Zj)(k.current.timestamp)," ago (").concat(new Date(k.current.timestamp).toLocaleString(),")"):"--"]})})]})},_)}))]})})},G=r(8124),z=r(8206);var L=function(e){var t=e.themePreference,r=e.temperatureUnitPreference,m=e.title;(0,n.useEffect)((function(){document.title=m}),[m]);var v=(0,n.useContext)(h.F),y=(0,o.Z)(v,4),Z=(y[0],y[1]),j=(y[2],y[3]);(0,n.useEffect)((function(){Z("home"),j([])}),[Z,j]);var w=(0,n.useState)({}),_=(0,o.Z)(w,2),k=_[0],C=_[1];return(0,n.useEffect)((function(){(0,z.bE)("https://api.citiesair.com/current/nyuad").then((function(e){C(e)})).catch((function(e){return console.log(e)}))}),[]),(0,x.jsxs)(i.Z,{width:"100%",children:[(0,x.jsx)(f.Z,{children:(0,x.jsxs)(a.Z,{sx:{pt:3,pb:4},children:[(0,x.jsx)(p.Z,{text:"real-time air quality at NYUAD"}),(0,x.jsx)(s.Z,{variant:"body1",color:"text.secondary",sx:{mt:-2,mb:2},children:"PM2.5 (Particulate Matter Smaller Than 2.5 Micrometer)"}),(0,x.jsxs)(l.ZP,{container:!0,justifyContent:"center",spacing:3,children:[(0,x.jsx)(l.ZP,{item:!0,textAlign:"center",xs:10,children:(0,x.jsx)(G.Z,{currentData:k,isScreen:!1,orderOfItems:[3,1,2],temperatureUnitPreference:r})}),(0,x.jsx)(l.ZP,{item:!0,xs:12,children:(0,x.jsxs)(c.Z,{width:"fit-content",alignItems:"center",margin:"auto",children:[(0,x.jsxs)(u.Z,{variant:"contained",sx:{width:"fit-content",mb:1},href:"https://citiesdashboard.com/project/air-quality",target:"blank",rel:"noopener noreferrer",children:[(0,x.jsx)(I.Z,{sx:{fontSize:"0.8rem"}}),"\xa0NYUAD Dashboard (Public Access)"]}),(0,x.jsx)(s.Z,{variant:"caption",color:"text.secondary",children:"See detailed analysis of historical air quality data at NYUAD"})]})})]})]})}),(0,x.jsxs)(f.Z,{sx:{backgroundColor:"customAlternateBackground"},children:[(0,x.jsxs)(a.Z,{sx:{py:3},children:[(0,x.jsx)(p.Z,{text:"public outdoor stations"}),(0,x.jsxs)(s.Z,{variant:"body1",color:"text.secondary",children:["Below is a map of CITIESair's public outdoor air quality monitoring stations. We are expanding the network to cover various schools in Abu Dhabi to raise air quality awareness towards more sustainable and healthy-living lifestyles. This map ",(0,x.jsx)("u",{children:(0,x.jsx)("b",{children:"does not"})})," display indoor stations in participating schools to protect their privacy. That said, we strive to publish all outdoor monitoring stations' measurements on IQAir, the world's most popular air quality monitoring platform, to make the data publicly available the surrounding community, school teachers, staff, and parents."]})]}),(0,x.jsx)(F,{themePreference:t,temperatureUnitPreference:r})]}),(0,x.jsx)(d.Z,{}),(0,x.jsx)(f.Z,{id:g.jZ.id,sx:{pt:3,pb:4},children:(0,x.jsx)(a.Z,{children:(0,x.jsx)(l.ZP,{container:!0,spacing:3,children:(0,x.jsx)(l.ZP,{item:!0,id:g.jZ.id,children:(0,x.jsx)(b,{})})})})})]})}},4011:function(e,t,r){r.d(t,{Zj:function(){return o},vI:function(){return n},Ay:function(){return a},Tm:function(){return s},KN:function(){return l},p7:function(){return c},c9:function(){return u},Pk:function(){return d}});var o=function(e){var t=new Date(e),r=new Date-t,o=Math.floor(r/1e3),n=Math.floor(o/60),i=Math.floor(n/60),a=Math.floor(i/24);return a>0?"".concat(a,"d"):i>0?"".concat(i,"h"):n>0?"".concat(n,"m"):"".concat(o,"s")},n={active:"active",temporaryOffline:"temporaryOffline",offline:"offline"},i=[{name:n.active,cutoffInHours:{low:0,high:2}},{name:n.temporaryOffline,cutoffInHours:{low:3,high:6}},{name:n.offline,cutoffInHours:{low:7,high:1/0}}],a=function(e){for(var t=0;t<i.length;t++){var r=i[t];if(r.cutoffInHours.low<=e&&e<=r.cutoffInHours.high)return r.name}},s=function(e){switch(e.sensor_status){case n.active:return null;case n.temporaryOffline:return"Last seen: ".concat(e.lastSeen,"h ago");case n.offline:return"Sensor offline";default:return null}},l=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):null},c=function(e){return new URL(e).hostname},u=function(e){var t="screen",r=e.split(t);return"".concat(t).concat(r.pop())},d=function(e,t){return e.bottom<t.top||e.top>t.bottom?0:e.top<t.top?-1:1}},2377:function(e,t,r){var o=r(3511);function n(e,t,r,o,n){return parseInt((e-t)/(r-o)*(n-o)+t)}t.Z=function(e){if(null==e)return{aqi:null,aqi_category_index:null};for(var t=0;t<o.Z.length;t++){var r=o.Z[t];if(e>=r.rawPM2_5.low&&e<=r.rawPM2_5.high)return{aqi:n(r.aqiUS.high,r.aqiUS.low,r.rawPM2_5.high,r.rawPM2_5.low,e),aqi_category_index:r.id}}}},3511:function(e,t,r){var o=r(4809),n=[{id:0,category:"Good",lightThemeColor:o.Z.light.palette.chart.optionsColors.aqi[0],darkThemeColor:o.Z.dark.palette.chart.optionsColors.aqi[0],aqiUS:{low:0,high:50},rawPM2_5:{low:0,high:12},description:"Air quality is satisfactory, and air pollution poses little or no risk",healthSuggestions:{outdoors:"Enjoy outdoor activities, the air is great!",indoors_generic:"Enjoy clean indoor air",indoors_dining_hall:"Enjoy clean dining hall air",indoors_gym:"Enjoy clean air for physical activities indoors",indoors_vulnerable:"Enjoy clean indoor air"}},{id:1,category:"Moderate",lightThemeColor:o.Z.light.palette.chart.optionsColors.aqi[1],darkThemeColor:o.Z.dark.palette.chart.optionsColors.aqi[1],aqiUS:{low:51,high:100},rawPM2_5:{low:12.1,high:35.4},description:"Air quality is acceptable. However, there may be a risk for some people, particularly those who are unusually sensitive to air pollution",healthSuggestions:{outdoors:"Children and individuals with respiratory issues might need to reduce prolonged outdoor exertion",indoors_generic:"Indoor air is acceptable, but not great",indoors_dining_hall:"Indoor air is acceptable, but not great<br>Avoid Grill area",indoors_gym:"Indoor air is acceptable, but not great",indoors_vulnerable:"Indoor air is acceptable, but not great"}},{id:2,category:"Unhealthy for Sensitive Groups",lightThemeColor:o.Z.light.palette.chart.optionsColors.aqi[2],darkThemeColor:o.Z.dark.palette.chart.optionsColors.aqi[2],aqiUS:{low:101,high:150},rawPM2_5:{low:35.5,high:55.4},description:"Members of sensitive groups may experience health effects. The general public is less likely to be affected",healthSuggestions:{outdoors:"Children and individuals with respiratory issues should limit outdoor exertion",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area",indoors_gym:"Individuals with respiratory issues should lower the intensity of indoor exercises",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:3,category:"Unhealthy",lightThemeColor:o.Z.light.palette.chart.optionsColors.aqi[3],darkThemeColor:o.Z.dark.palette.chart.optionsColors.aqi[3],aqiUS:{low:151,high:200},rawPM2_5:{low:55.5,high:150.4},description:"Some members of the general public may experience health effects; members of sensitive groups may experience more serious health effects",healthSuggestions:{outdoors:"Everyone should limit outdoor activities<br>Wear masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Everyone should lower the intensity of indoor exercises",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:4,category:"Very Unhealthy",lightThemeColor:o.Z.light.palette.chart.optionsColors.aqi[4],darkThemeColor:o.Z.dark.palette.chart.optionsColors.aqi[4],aqiUS:{low:201,high:300},rawPM2_5:{low:150.5,high:250.4},description:"Health alert: The risk of health effects is increased for everyone",healthSuggestions:{outdoors:"Avoid outdoor activities at all cost<br>Wear N95 masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Indoor air quality is not suitable for any physical activities",indoors_vulnerable:"Monitor closely individuals with respiratory issues for any symptom"}},{id:5,category:"Hazardous",lightThemeColor:o.Z.light.palette.chart.optionsColors.aqi[5],darkThemeColor:o.Z.dark.palette.chart.optionsColors.aqi[5],aqiUS:{low:300,high:500},rawPM2_5:{low:250.5,high:550.5},description:"Health warning of emergency conditions: everyone is more likely to be affected",healthSuggestions:{outdoors:"Avoid outdoor activities at all cost<br>Wear N95 masks when going outside",indoors_dining_hall:"Consider take-aways<br>Avoid Grill area<br>Come back at off-peak hours",indoors_gym:"Indoor air quality is not suitable for any physical activities",indoors_vulnerable:""}}];t.Z=n},8206:function(e,t,r){r.d(t,{bE:function(){return p},RO:function(){return f}});var o=r(1413),n=r(885),i=r(5861),a=r(4687),s=r.n(a),l=r(8914),c=r(4011),u=r(2377),d=r(3511),h=r(3540),p=function(){var e=(0,i.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.m)(t,"json",!0);case 3:if(r=e.sent){e.next=6;break}throw new Error("Returned data is empty");case 6:return e.prev=6,e.abrupt("return",f(r));case 10:e.prev=10,e.t0=e.catch(6),console.error("Error: data is not iterable",e.t0);case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(0),new Error("Error fetching data: ".concat(e.t1.message));case 18:case"end":return e.stop()}}),e,null,[[0,15],[6,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return Object.entries(e).map((function(e){var t,r,i=(0,n.Z)(e,2),a=(i[0],i[1]),s=new Date,l=new Date(null===(t=a.current)||void 0===t?void 0:t.timestamp),p=Math.round((s-l)/1e3/3600);if(a.current&&(a.current.lastSeenInHours=p,a.current.sensor_status=(0,c.Ay)(p)),null!==(r=a.current)&&void 0!==r&&r["pm2.5"]){var f=(0,u.Z)(a.current["pm2.5"]);if(f){var m,v,g=d.Z[f.aqi_category_index];if(a.current.aqi=f.aqi,a.current.category=g.category,a.current.sensor_status===c.vI.active)a.current=(0,o.Z)((0,o.Z)({},a.current),{},{color:g.lightThemeColor,healthSuggestion:g.healthSuggestions[null===(m=a.sensor)||void 0===m?void 0:m.location_type]&&(0,h.ZP)(g.healthSuggestions[null===(v=a.sensor)||void 0===v?void 0:v.location_type])})}}})),e}}}]);
//# sourceMappingURL=728.52d4d367.chunk.js.map